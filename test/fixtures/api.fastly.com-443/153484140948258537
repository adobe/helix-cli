POST /service/1hmICxJdPU6lDhlHgOAmrl/version/2/vcl
accept: application/json
host: api.fastly.com
content-type: application/x-www-form-urlencoded
body: name=helix.vcl&content=%23%0A%23%20Copyright%202018%20Adobe.%20All%20rights%20reserved.%0A%23%20This%20file%20is%20licensed%20to%20you%20under%20the%20Apache%20License%2C%20Version%202.0%20%28the%20%22License%22%29%3B%0A%23%20you%20may%20not%20use%20this%20file%20except%20in%20compliance%20with%20the%20License.%20You%20may%20obtain%20a%20copy%0A%23%20of%20the%20License%20at%20http%3A%2F%2Fwww.apache.org%2Flicenses%2FLICENSE-2.0%0A%23%0A%23%20Unless%20required%20by%20applicable%20law%20or%20agreed%20to%20in%20writing%2C%20software%20distributed%20under%0A%23%20the%20License%20is%20distributed%20on%20an%20%22AS%20IS%22%20BASIS%2C%20WITHOUT%20WARRANTIES%20OR%20REPRESENTATIONS%0A%23%20OF%20ANY%20KIND%2C%20either%20express%20or%20implied.%20See%20the%20License%20for%20the%20specific%20language%0A%23%20governing%20permissions%20and%20limitations%20under%20the%20License.%0A%23%0A%0A%23%20Determines%20the%20current%20strain%2C%20and%20sets%20the%20X-Strain%20header%0Asub%20hlx_strain%20%7B%0A%20%20%23%20TODO%3A%20add%20X-Strain-Key%20as%20a%20random-generated%2C%20validation%20property%0A%20%20%23%20read%20strain%20from%20URL%20query%20string%0A%20%20if%20%28subfield%28req.url.qs%2C%20%22hlx_strain%22%2C%20%22%26%22%29%29%20%7B%0A%20%20%20%20set%20req.http.X-Strain%20%3D%20subfield%28req.url.qs%2C%20%22hlx_strain%22%2C%20%22%26%22%29%3B%0A%20%20%7D%0A%20%20%23%20read%20strain%20from%20Cookie%0A%20%20if%20%28req.http.Cookie%3AX-Strain%29%20%7B%0A%20%20%20%20set%20req.http.X-Strain%20%3D%20req.http.Cookie%3AX-Strain%3B%0A%20%20%7D%0A%20%20%23%20we%20don%27t%20need%20cookies%20for%20anything%20else%0A%20%20unset%20req.http.Cookie%3B%0A%20%20%23%20do%20not%20override%20strain%20if%20set%20in%20header%0A%20%20if%20%28%21req.http.X-Strain%29%20%7B%0A%20%20%20%20set%20req.http.X-Strain%20%3D%20%22default%22%3B%0A%0A%20%20%20%20%23%20run%20custom%20strain%20resolution%0A%20%20%20%20include%20%22strains.vcl%22%3B%0A%20%20%7D%0A%7D%0A%0A%23%20Gets%20the%20content%20owner%20for%20the%20current%20strain%20and%20sets%20the%20X-Owner%20header%0Asub%20hlx_owner%20%7B%0A%20%20set%20req.http.X-Owner%20%3D%20table.lookup%28strain_owners%2C%20req.http.X-Strain%29%3B%0A%20%20if%20%28%21req.http.X-Owner%29%20%7B%0A%20%20%20%20set%20req.http.X-Owner%20%3D%20table.lookup%28strain_owners%2C%20%22default%22%29%3B%0A%20%20%7D%0A%7D%0A%0A%23%20Gets%20the%20directory%20index%20for%20the%20current%20strain%0Asub%20hlx_index%20%7B%0A%20%20set%20req.http.X-Index%20%3D%20table.lookup%28strain_index_files%2C%20req.http.X-Strain%29%3B%0A%20%20if%20%28%21req.http.X-Index%29%20%7B%0A%20%20%20%20set%20req.http.X-Index%20%3D%20table.lookup%28strain_index_files%2C%20%22default%22%29%3B%0A%20%20%7D%0A%7D%0A%0A%23%20Gets%20the%20content%20repo%0Asub%20hlx_repo%20%7B%0A%20%20set%20req.http.X-Repo%20%3D%20table.lookup%28strain_repos%2C%20req.http.X-Strain%29%3B%0A%20%20if%20%28%21req.http.X-Repo%29%20%7B%0A%20%20%20%20set%20req.http.X-Repo%20%3D%20table.lookup%28strain_repos%2C%20%22default%22%29%3B%0A%20%20%7D%0A%7D%0A%0A%23%20Gets%20the%20content%20ref%0Asub%20hlx_ref%20%7B%0A%20%20set%20req.http.X-Ref%20%3D%20table.lookup%28strain_refs%2C%20req.http.X-Strain%29%3B%0A%20%20%23%20fall%20back%20to%20default%20strain%0A%20%20if%20%28%21req.http.X-Ref%29%20%7B%0A%20%20%20%20set%20req.http.X-Ref%20%3D%20table.lookup%28strain_refs%2C%20%22default%22%29%3B%0A%20%20%7D%0A%20%20%23%20if%20default%20isn%27t%20set%2C%20use%20%27master%27%0A%20%20if%20%28%21req.http.X-Ref%29%20%7B%0A%20%20%20%20set%20req.http.X-Root-Path%20%3D%20%22master%22%3B%0A%20%20%7D%0A%7D%0A%0A%23%20Gets%20the%20content%20path%20root%0Asub%20hlx_root_path%20%7B%0A%20%20set%20req.http.X-Root-Path%20%3D%20table.lookup%28strain_root_paths%2C%20req.http.X-Strain%29%3B%0A%20%20if%20%28%21req.http.X-Root-Path%29%20%7B%0A%20%20%20%20set%20req.http.X-Root-Path%20%3D%20table.lookup%28strain_root_paths%2C%20%22default%22%29%3B%0A%20%20%7D%0A%20%20if%20%28%21req.http.X-Root-Path%29%20%7B%0A%20%20%20%20set%20req.http.X-Root-Path%20%3D%20%22%22%3B%0A%20%20%7D%0A%7D%0A%0Asub%20hlx_action_root%20%7B%0A%20%20set%20req.http.X-Action-Root%20%3D%20table.lookup%28strain_action_roots%2C%20req.http.X-Strain%29%3B%0A%20%20if%20%28%21req.http.X-Action-Root%29%20%7B%0A%20%20%20%20set%20req.http.X-Action-Root%20%3D%20table.lookup%28strain_action_roots%2C%20%22default%22%29%3B%0A%20%20%7D%0A%20%20%23set%20req.http.X-Action-Root%20%3D%20%22%2Ftrieloff%2Fdefault%2Fgit-github-com-adobe-helix-cli-git--dirty--%22%3B%0A%7D%0A%0A%23%20Gets%20the%20github%20static%20repo%0Asub%20hlx_github_static_repo%20%7B%0A%20%20set%20req.http.X-Github-Static-Repo%20%3D%20table.lookup%28strain_github_static_repos%2C%20req.http.X-Strain%29%3B%0A%20%20if%20%28%21req.http.X-Github-Static-Repo%29%20%7B%0A%20%20%20%20set%20req.http.X-Github-Static-Repo%20%3D%20table.lookup%28strain_github_static_repos%2C%20%22default%22%29%3B%0A%20%20%7D%0A%7D%0A%0A%23%20Gets%20the%20github%20static%20owner%0Asub%20hlx_github_static_owner%20%7B%0A%20%20set%20req.http.X-Github-Static-Owner%20%3D%20table.lookup%28strain_github_static_owners%2C%20req.http.X-Strain%29%3B%0A%20%20if%20%28%21req.http.X-Github-Static-Owner%29%20%7B%0A%20%20%20%20set%20req.http.X-Github-Static-Owner%20%3D%20table.lookup%28strain_github_static_owners%2C%20%22default%22%29%3B%0A%20%20%7D%0A%7D%0A%0A%23%20Gets%20the%20github%20static%20ref%0Asub%20hlx_github_static_ref%20%7B%0A%20%20set%20req.http.X-Github-Static-Ref%20%3D%20table.lookup%28strain_github_static_refs%2C%20req.http.X-Strain%29%3B%0A%20%20if%20%28%21req.http.X-Github-Static-Ref%29%20%7B%0A%20%20%20%20set%20req.http.X-Github-Static-Ref%20%3D%20table.lookup%28strain_github_static_refs%2C%20%22default%22%29%3B%0A%20%20%7D%0A%7D%0A%0A%23%20rewrite%20required%20headers%20%28called%20from%20recv%29%0Asub%20hlx_headers_recv%20%7B%0A%20%20%23%20default%20conditions%0A%20%20if%20%28%21req.http.Fastly-SSL%29%20%7B%0A%20%20%20%20%20error%20801%20%22Force%20SSL%22%3B%0A%20%20%7D%0A%20%20%23%20Header%20rewrite%20Request%20ID%20%3A%2010%0A%20%20if%20%28%21req.http.X-CDN-Request-ID%29%20%7B%0A%20%20%20%20set%20req.http.X-CDN-Request-ID%20%3D%20randomstr%288%2C%20%220123456789abcdef%22%29%20%2B%20%22-%22%20%2B%20randomstr%284%2C%20%220123456789abcdef%22%29%20%2B%20%22-4%22%20%2B%20randomstr%283%2C%20%220123456789abcdef%22%29%20%2B%20%22-%22%20%2B%20randomstr%281%2C%20%2289ab%22%29%20%2B%20randomstr%283%2C%20%220123456789abcdef%22%29%20%2B%20%22-%22%20%2B%20randomstr%2812%2C%20%220123456789abcdef%22%29%3B%0A%20%20%7D%0A%0A%20%20%23%20Header%20rewrite%20Strain%20Cookie%20%3A%2010%0A%20%20if%20%28%21req.http.Set-Cookie%29%20%7B%0A%20%20%20%20set%20req.http.Set-Cookie%20%3D%20%22X-Strain%3D%22%20%2B%20req.http.X-Strain%20%2B%20%22%3B%20Secure%3B%20HttpOnly%3B%20SameSite%3DStrict%3B%22%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20set%20req.http.Set-Cookie%20%3D%20req.http.Set-Cookie%20%22X-Strain%3D%22%20%2B%20req.http.X-Strain%20%2B%20%22%3B%20Secure%3B%20HttpOnly%3B%20SameSite%3DStrict%3B%22%3B%0A%20%20%7D%0A%7D%0A%0A%23%20rewrite%20required%20hedaers%20%28called%20from%20fetch%29%0Asub%20hlx_headers_fetch%20%7B%0A%20%20if%20%28%20req.http.X-Debug%20%29%20%7B%0A%20%20%20%20%23%20Header%20rewrite%20Backend%20Name%20%3A%2010%0A%20%20%20%20if%20%28%21beresp.http.X-Backend-Name%29%20%7B%0A%20%20%20%20%20%20set%20beresp.http.X-Backend-Name%20%3D%20beresp.backend.name%3B%0A%20%20%20%20%7D%0A%20%20%20%20%23%20Header%20rewrite%20Response%20ID%20%3A%2010%0A%20%20%20%20if%20%28%21beresp.http.X-CDN-Request-ID%29%20%7B%0A%20%20%20%20%20%20set%20beresp.http.X-CDN-Request-ID%20%3D%20req.http.X-CDN-Request-ID%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0Asub%20hlx_headers_deliver%20%7B%0A%20%20%23%20Header%20rewrite%20HSTS%20%3A%2010%0A%20%20set%20resp.http.Strict-Transport-Security%20%3D%20%22max-age%3D31536000%3B%20includeSubDomains%22%3B%0A%20%20%23%20Header%20rewrite%20Host%20%3A%2010%0A%20%20set%20resp.http.X-Host%20%3D%20req.http.Fastly-Orig-Host%3B%0A%20%20%23%20Response%20Condition%3A%20Debug%20%28Response%29%20Prio%3A%2010%0A%20%20if%28%20req.http.X-Debug%20%29%20%7B%0A%20%20%20%20%23%20Header%20rewrite%20Backend%20URL%20%3A%2010%0A%20%20%20%20set%20resp.http.X-Backend-URL%20%3D%20req.url%3B%0A%20%20%20%20%23%20Header%20rewrite%20Branch%20%3A%2010%0A%20%20%20%20set%20resp.http.X-Branch%20%3D%20req.http.X-Branch%3B%0A%20%20%20%20%23%20Header%20rewrite%20Strain%20%3A%2010%0A%20%20%20%20set%20resp.http.X-Strain%20%3D%20req.http.X-Strain%3B%0A%20%20%20%20%23%20Header%20rewrite%20Strain%20%3A%2010%0A%20%20%20%20set%20resp.http.X-Github-Static-Ref%20%3D%20%22%40%22%20%2B%20req.http.X-Github-Static-Ref%3B%0A%20%20%20%20%0A%20%20%20%20set%20resp.http.X-Dirname%20%3D%20req.http.X-Dirname%3B%0A%20%20%20%20set%20resp.http.X-Index%20%3D%20req.http.X-Index%3B%0A%20%20%7D%0A%0A%20%20call%20hlx_deliver_errors%3B%0A%7D%0A%0A%23%20set%20backend%20%28called%20from%20recv%29%0Asub%20hlx_backend_recv%20%7B%0A%20%20%23%20Request%20Condition%3A%20Binaries%20only%20Prio%3A%2010%0A%20%20if%28%20req.url%20~%20%22.%28jpg%7Cpng%7Cgif%29%28%24%7C%5C%3F%29%22%20%29%20%7B%0A%20%20%20%20set%20req.backend%20%3D%20F_GitHub%3B%0A%20%20%7D%0A%20%20%0A%20%20%23%20Request%20Condition%3A%20HTML%20Only%20Prio%3A%2010%0A%20%20if%28%20req.url%20~%20%22.%28html%29%28%24%7C%5C%3F%29%22%20%29%20%7B%0A%20%20%20%20set%20req.backend%20%3D%20F_runtime_adobe_io%3B%0A%20%20%7D%0A%20%20%23end%20condition%0A%7D%0A%0Asub%20vcl_recv%20%7B%0A%23FASTLY%20recv%0A%0A%20%20call%20hlx_headers_recv%3B%0A%20%20call%20hlx_backend_recv%3B%0A%0A%20%20%23%20Set%20original%20URL%2C%20so%20that%20we%20can%20log%20it%20afterwards.%0A%20%20%23%20If%20request%20is%20on%20Fastly-FF%2C%20we%20shouldn%27t%20override%20it.%0A%20%20if%20%28%21req.http.Fastly-FF%29%20%7B%0A%20%20%20%20set%20req.http.X-Orig-URL%20%3D%20req.url%3B%0A%20%20%7D%0A%0A%20%20if%20%28req.request%20%21%3D%20%22HEAD%22%20%26%26%20req.request%20%21%3D%20%22GET%22%20%26%26%20req.request%20%21%3D%20%22FASTLYPURGE%22%29%20%7B%0A%20%20%20%20return%28pass%29%3B%0A%20%20%7D%0A%0A%20%20%23%20shorten%20URL%0A%20%20declare%20local%20var.owner%20STRING%3B%20%23%20the%20GitHub%20user%20or%20org%2C%20e.g.%20adobe%20%0A%20%20declare%20local%20var.repo%20STRING%3B%20%23%20the%20GitHub%20repo%2C%20e.g.%20project-helix%0A%20%20declare%20local%20var.ref%20STRING%3B%20%23%20the%20GitHub%20branch%20or%20revision%2C%20e.g.%20master%0A%20%20declare%20local%20var.dir%20STRING%3B%20%23%20the%20directory%20of%20the%20content%0A%20%20declare%20local%20var.name%20STRING%3B%20%23%20the%20name%20%28without%20extension%29%20of%20the%20resource%0A%20%20declare%20local%20var.selector%20STRING%3B%20%23%20the%20selector%20%28between%20name%20and%20extension%29%0A%20%20declare%20local%20var.extension%20STRING%3B%0A%20%20declare%20local%20var.branch%20STRING%3B%20%23%20the%20branch%20of%20helix%20code%20to%20execute%0A%20%20declare%20local%20var.strain%20STRING%3B%20%23%20the%20resolved%20strain%0A%20%20declare%20local%20var.action%20STRING%3B%20%23%20the%20action%20to%20call%0A%20%20declare%20local%20var.path%20STRING%3B%20%23%20resource%20path%0A%20%20declare%20local%20var.entry%20STRING%3B%20%23%20bundler%20entry%20point%0A%0A%20%20if%20%28req.http.Fastly-FF%29%20%7B%0A%20%20%20%20%23%20disable%20ESI%20processing%20on%20Origin%20Shield%0A%20%20%20%20set%20req.esi%20%3D%20false%3B%0A%20%20%7D%20elseif%20%28%20req.url.ext%20%3D%3D%20%22html%22%20%29%20%7B%0A%20%20%20%20%20%20%20set%20req.http.x-esi%20%3D%20%221%22%3B%0A%20%20%7D%0A%0A%20%20%23%20Determine%20the%20Current%20Branch%20using%20the%20Host%20header%0A%20%20%23%20TODO%3A%20use%20Edge%20Side%20Dictinoaries%20to%20allow%20for%20more%20flexible%20configuration%0A%20%20%23%20NOTE%3A%20I%27m%20doing%20this%20outside%20the%20following%20IF%20statement%2C%20because%20the%20re%20variable%20%0A%20%20%23%20would%20be%20reset%20by%20running%20repeated%20regexps%0A%0A%20%20set%20var.branch%20%3D%20%22www%22%3B%0A%0A%20%20if%20%28req.http.Host%20~%20%22%5E%28%5B%5E%5C.%5D%2B%29%5C..%2B%24%22%29%20%7B%0A%20%20%20%20set%20var.branch%20%3D%20re.group.1%3B%0A%20%20%7D%0A%0A%20%20if%20%28var.branch%20%3D%3D%20%22www%22%29%20%7B%0A%20%20%20%20set%20var.branch%20%3D%20%22master%22%3B%0A%20%20%7D%0A%0A%20%20set%20req.http.X-Orig-Host%20%3D%20req.http.Fastly-Orig-Host%3B%0A%20%20set%20req.http.X-Host%20%3D%20req.http.Host%3B%0A%0A%20%20set%20req.http.X-Branch%20%3D%20var.branch%3B%0A%0A%0A%0A%20%20%23%20Parse%20the%20Request%20URL%2C%20if%20this%20is%20a%20proper%20SSL-request%20%0A%20%20%23%20%28non-SSL%20gets%20redirected%29%20to%20SSL-equivalent%0A%0A%0A%20%20%23%20Deliver%20static%20content%20addressed%20with%20%2Fdist%20via%20default%20%27html%27%20action.%0A%20%20%23%20todo%3A%20support%20for%20codeload%20or%20distinct%20function%3F%0A%20%20if%20%28%21req.http.Fastly-FF%20%26%26%20req.http.Fastly-SSL%20%26%26%20req.url.path%20~%20%22%5C%2Fdist%5C%2F%28.%2A%29%22%29%20%7B%0A%20%20%20%20call%20hlx_github_static_ref%3B%0A%20%20%20%20set%20var.ref%20%3D%20req.http.X-Github-Static-Ref%3B%0A%0A%20%20%20%20if%20%28var.ref%20%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20%23%20use%20%27bundled%27%20static%20content%20in%20openwhisk%20action%0A%20%20%20%20%20%20call%20hlx_action_root%3B%0A%20%20%20%20%20%20set%20req.backend%20%3D%20F_runtime_adobe_io%3B%0A%20%20%20%20%20%20set%20req.url%20%3D%20%22%2Fapi%2Fv1%2Fweb%22%20%2B%20req.http.X-Action-Root%20%2B%20%22html%22%20%2B%20%22%3Fpath%3D%22%20%2B%20req.url.path%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%23%20use%20github%20as%20static%20files%20provider%0A%20%20%20%20%20%20call%20hlx_github_static_owner%3B%0A%20%20%20%20%20%20set%20var.owner%20%3D%20req.http.X-Github-Static-Owner%3B%0A%0A%20%20%20%20%20%20call%20hlx_github_static_repo%3B%0A%20%20%20%20%20%20set%20var.repo%20%3D%20req.http.X-Github-Static-Repo%3B%0A%0A%20%20%20%20%20%20set%20req.backend%20%3D%20F_GitHub%3B%0A%20%20%20%20%20%20set%20req.url%20%3D%20%22%2F%22%20%2B%20var.owner%20%2B%20%22%2F%22%20%2B%20var.repo%20%2B%20%22%2F%22%20%2B%20var.ref%20%2B%20%22%2F%22%20%2B%20re.group.1%3B%0A%20%20%20%20%7D%0A%20%20%7D%20elsif%20%28%21req.http.Fastly-FF%20%26%26%20req.http.Fastly-SSL%20%26%26%20%28req.url.basename%20~%20%22%28%5E%5B%5E%5C.%5D%2B%29%28%5C.%3F%28.%2B%29%29%3F%28%5C.%5B%5E%5C.%5D%2A%24%29%22%20%7C%7C%20req.url.basename%20%3D%3D%20%22%22%29%29%20%7B%0A%20%20%20%20%23%20Parse%20the%20URL%0A%0A%20%20%20%20call%20hlx_strain%3B%0A%20%20%20%20set%20var.strain%20%3D%20req.http.X-Strain%3B%0A%0A%20%20%20%20call%20hlx_owner%3B%0A%20%20%20%20set%20var.owner%20%3D%20req.http.X-Owner%3B%0A%0A%20%20%20%20call%20hlx_repo%3B%0A%20%20%20%20set%20var.repo%20%3D%20req.http.X-Repo%3B%0A%0A%20%20%20%20call%20hlx_ref%3B%0A%20%20%20%20set%20var.ref%20%3D%20req.http.X-Ref%3B%0A%0A%20%20%20%20call%20hlx_root_path%3B%0A%20%20%20%20if%20%28req.http.X-Dirname%29%20%7B%0A%20%20%20%20%20%20%23%20set%20root%20path%20based%20on%20strain-specific%20dirname%20%28strips%20away%20strain%20root%29%0A%20%20%20%20%20%20set%20var.dir%20%3D%20req.http.X-Root-Path%20%2B%20req.http.X-Dirname%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20set%20var.dir%20%3D%20req.http.X-Root-Path%20%2B%20req.url.dirname%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%23%20repeat%20the%20regex%20in%20case%20another%20re-function%20has%20been%20called%20in%20the%20meantime%0A%20%20%20%20if%20%28req.url.basename%20~%20%22%28%5E%5B%5E%5C.%5D%2B%29%28%5C.%3F%28.%2B%29%29%3F%28%5C.%5B%5E%5C.%5D%2A%24%29%22%29%20%7B%0A%20%20%20%20%20%20set%20var.name%20%3D%20re.group.1%3B%0A%20%20%20%20%20%20set%20var.selector%20%3D%20re.group.3%3B%0A%20%20%20%20%20%20set%20var.extension%20%3D%20regsub%28req.url.ext%2C%20%22%5E%5C.%22%2C%20%22%22%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20call%20hlx_index%3B%0A%20%20%20%20%20%20if%20%28req.http.X-Index%20~%20%22%28%5E%5B%5E%5C.%5D%2B%29%5C.%3F%28.%2A%29%5C.%28%5B%5E%5C.%5D%2B%24%29%22%29%20%7B%0A%20%20%20%20%20%20%20%20%23%20determine%20directory%20index%20from%20strain%20config%0A%20%20%20%20%20%20%20%20set%20var.name%20%3D%20re.group.1%3B%0A%20%20%20%20%20%20%20%20set%20var.selector%20%3D%20re.group.2%3B%0A%20%20%20%20%20%20%20%20set%20var.extension%20%3D%20re.group.3%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%23%20force%20default%20directory%20index%0A%20%20%20%20%20%20%20%20set%20req.http.X-Index%20%3D%20%22default%22%3B%0A%20%20%20%20%20%20%20%20set%20var.name%20%3D%20%22index%22%3B%0A%20%20%20%20%20%20%20%20set%20var.selector%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20set%20var.extension%20%3D%20%22html%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20call%20hlx_action_root%3B%0A%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20if%20%28var.selector%20~%20%22.%2B%22%29%20%7B%0A%20%20%20%20%20%20set%20var.action%20%3D%20req.http.X-Action-Root%20%2B%20var.selector%20%2B%20%22_%22%20%2B%20var.extension%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20set%20var.action%20%3D%20req.http.X-Action-Root%20%2B%20var.extension%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%23%20check%20for%20images%2C%20and%20get%20them%20from%20GitHub%0A%20%20%20%20if%20%28req.url.ext%20~%20%22%28%3Fi%29%28png%7Cjpg%7Cjpeg%29%22%29%20%7B%0A%20%20%20%20%20%20if%20%28req.backend%20%3D%3D%20F_GitHub%20%26%26%20req.restarts%20%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28server.identity%20%21~%20%22-IAD%24%22%20%26%26%20req.http.Fastly-FF%20%21~%20%22-IAD%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20set%20req.backend%20%3D%20ssl_shield_iad_va_us%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28%21req.backend.healthy%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%23%20the%20shield%20datacenter%20is%20broken%20so%20dont%20go%20to%20it%0A%20%20%20%20%20%20%20%20%20%20set%20req.backend%20%3D%20F_GitHub%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20set%20req.url%20%3D%20%22%2F%22%20%2B%20var.owner%20%2B%20%22%2F%22%20%2B%20var.repo%20%2B%20%22%2F%22%20%2B%20var.ref%20%2B%20%22%2F%22%20%2B%20var.dir%20%2B%20%22%2F%22%20%2B%20req.url.basename%20%2B%20%22%3F%22%20%2B%20req.url.qs%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%23%20Invoke%20OpenWhisk%0A%20%20%20%20%20%20set%20req.url%20%3D%20%22%2Fapi%2Fv1%2Fweb%22%20%2B%20var.action%20%2B%20%22%3Fowner%3D%22%20%2B%20var.owner%20%2B%20%22%26repo%3D%22%20%2B%20var.repo%20%2B%20%22%26ref%3D%22%20%2B%20var.ref%20%2B%20%22%26path%3D%22%20%2B%20var.dir%20%2B%20%22%2F%22%20%2B%20var.name%20%2B%20%22.md%22%20%2B%20%22%26selector%3D%22%20%2B%20var.selector%20%2B%20%22%26extension%3D%22%20%2B%20req.url.ext%20%2B%20%22%26branch%3D%22%20%2B%20var.branch%20%2B%20%22%26strain%3D%22%20%2B%20var.strain%20%2B%20%22%26GITHUB_KEY%3D%22%20%2B%20table.lookup%28secrets%2C%20%22GITHUB_TOKEN%22%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%23%20enable%20IO%20for%20image%20file-types%0A%20%20if%20%28req.url.ext%20~%20%22%28%3Fi%29%28%3F%3Agif%7Cpng%7Cjpe%3Fg%7Cwebp%29%22%29%20%20%7B%0A%20%20%20%20set%20req.http.X-Fastly-Imageopto-Api%20%3D%20%22fastly%22%3B%0A%20%20%7D%0A%20%0A%20%20return%28lookup%29%3B%0A%7D%0A%0Asub%20hlx_fetch_errors%20%7B%0A%20%20%23%20Interpreting%20OpenWhisk%20errors%20is%20a%20bit%20tricky%2C%20because%20we%20don%27t%20have%20access%20to%20the%20JSON%0A%20%20%23%20of%20the%20response%20body.%20Instead%20we%20are%20using%20the%20Content-Length%20of%20known%20error%20messages%0A%20%20%23%20to%20determine%20the%20most%20likely%20root%20cause.%20Each%20root%20cause%20will%20get%20an%20internal%20status%20code%0A%20%20%23%20starting%20with%20951%2C%20which%20is%20then%20handled%20by%20%60hlx_error_errors%60%20and%20%60hlx_deliver_errors%60%0A%20%20if%20%28%20beresp.status%20%3D%3D%20404%20%26%26%20beresp.http.Content-Type%3D%3D%22application%2Fjson%22%20%26%26%20beresp.http.Content-Length%3D%3D%2274%22%20%29%20%7B%0A%20%20%20%20%20%20%23%20ResponseObject%3A%20Unknown%20Extension%0A%20%20%20%20%20%20error%20951%20%22Unknown%20Extension%22%3B%0A%20%20%7D%0A%0A%20%20if%20%28%20beresp.status%20%3D%3D%20404%20%26%26%20beresp.http.Content-Type%3D%3D%22application%2Fjson%22%20%26%26%20beresp.http.Content-Length%3D%3D%2269%22%20%29%20%7B%0A%20%20%20%20%20%20%23%20ResponseObject%3A%20Unknown%20Extension%0A%20%20%20%20%20%20error%20952%20%22Wrong%20Code%20Path%22%3B%0A%20%20%7D%0A%0A%20%20if%20%28%20beresp.status%20%3D%3D%20401%20%26%26%20beresp.http.Content-Type%3D%3D%22application%2Fjson%22%20%26%26%20beresp.http.Content-Length%3D%3D%2265%22%20%29%20%7B%0A%20%20%20%20%20%20%23%20ResponseObject%3A%20Unknown%20Extension%0A%20%20%20%20%20%20error%20953%20%22Can%27t%20Call%20Action%22%3B%0A%20%20%7D%0A%7D%20%0A%0Asub%20hlx_deliver_errors%20%7B%0A%20%20%23%20Cache%20Condition%3A%20OpenWhisk%20Error%20Prio%3A%2010%20%20%20%20%0A%20%20if%20%28resp.status%20%3D%3D%20951%20%29%20%7B%0A%20%20%20%20%20set%20resp.status%20%3D%20404%3B%0A%20%20%20%20%20set%20resp.response%20%3D%20%22Not%20Found%22%3B%0A%20%20%7D%0A%20%20if%20%28resp.status%20%3D%3D%20952%20%29%20%7B%0A%20%20%20%20%20set%20resp.status%20%3D%20500%3B%0A%20%20%20%20%20set%20resp.response%20%3D%20%22Internal%20Server%20Error%22%3B%0A%20%20%7D%0A%20%20if%20%28resp.status%20%3D%3D%20953%20%29%20%7B%0A%20%20%20%20%20set%20resp.status%20%3D%20500%3B%0A%20%20%20%20%20set%20resp.response%20%3D%20%22Internal%20Server%20Error%22%3B%0A%20%20%7D%0A%7D%0A%0Asub%20hlx_error_errors%20%7B%0A%20%20%23%20Cache%20Condition%3A%20OpenWhisk%20Error%20Prio%3A%2010%20%20%0A%20%20if%20%28obj.status%20%3D%3D%20951%20%29%20%7B%0A%20%20%20%20set%20obj.http.Content-Type%20%3D%20%22text%2Fhtml%22%3B%0A%20%20%20%20synthetic%20%7B%22%3C%21doctype%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3EResource%20not%20Found%3C%2Ftitle%3E%0A%20%20%20%20%3C%21--%20Required%20meta%20tags%20--%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22utf-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1%2C%20shrink-to-fit%3Dno%22%3E%0A%20%20%20%20%3Cstyle%3E%0A%40import%20url%28https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3Dopensans%3A500%29%3B%0Abody%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23111155%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%23fff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Open%20Sans%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max-height%3A700px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.c%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A80%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A100px%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20._404%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%20220px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20250px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20letter-spacing%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20._1%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3Acenter%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3Ablock%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3Arelative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20letter-spacing%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%204em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%2080%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A0.2em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A0.2em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20._2%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3Acenter%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3Ablock%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.text%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2070px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%2019px%200px%200px%200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20top%3A%20256.301px%3B%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%201.2em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.btn%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgb%28%20255%2C%20255%2C%20255%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20358px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%205px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%205%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2025px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A0%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%23111155%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin-right%3A%2010px%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.right%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20float%3Aright%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A60%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20hr%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-top%3A%205px%20solid%20%23fff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200px%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20420px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A10px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20-10%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20hr%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%22%5C2022%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%20-0.75em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%202em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%200.2em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23111155%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20.cloud%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20350px%3B%20height%3A%20120px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23FFF%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20-webkit-linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20-moz-linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20-ms-linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20-o-linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-border-radius%3A%20100px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%20120px%20auto%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A-1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20ease%201s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.cloud%3Aafter%2C%20.cloud%3Abefore%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23FFF%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20-1%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.cloud%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100px%3B%20height%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%20-50px%3B%20left%3A%2050px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.cloud%3Abefore%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20180px%3B%20height%3A%20180px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%20-90px%3B%20right%3A%2050px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-border-radius%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-border-radius%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20.x1%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A-50px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.9%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2015s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2015s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2015s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20.x1_5%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A-80px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A250px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2017s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2017s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2017s%20linear%20infinite%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.x2%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%20250px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A30px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.6%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.x3%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%20250px%3B%20bottom%3A%20-70px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.8%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.x4%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%20470px%3B%20botttom%3A%2020px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.75%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.75%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.75%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.75%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2018s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2018s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2018s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.x5%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%20200px%3B%20top%3A%20300px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.8%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2020s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2020s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2020s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%40-webkit-keyframes%20moveclouds%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7Bmargin-left%3A%201000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7Bmargin-left%3A%20-1000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%40-moz-keyframes%20moveclouds%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7Bmargin-left%3A%201000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7Bmargin-left%3A%20-1000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%40-o-keyframes%20moveclouds%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7Bmargin-left%3A%201000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7Bmargin-left%3A%20-1000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%20%20%20%0A%20%20%20%20%3C%2Fstyle%3E%0A%20%20%3C%2Fhead%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cdiv%20id%3D%22clouds%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x1%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x1_5%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x2%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x3%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x4%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x5%22%3E%3C%2Fdiv%3E%0A%20%20%3C%2Fdiv%3E%0A%20%20%3Cdiv%20class%3D%27c%27%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%27_404%27%3E404%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Chr%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%27_1%27%3ERESOURCE%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%27_1%27%3ENOT%20FOUND%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Ccode%20class%3D%27btn%27%3EThe%20requested%20selector%20or%20extension%20could%20not%20be%20found.%3C%2Fcode%3E%0A%20%20%3C%2Fdiv%3E%0A%20%20%3C%2Fbody%3E%0A%3C%2Fhtml%3E%22%7D%3B%0A%20%20%20%20return%28deliver%29%3B%0A%20%20%7D%0A%20%20if%20%28obj.status%20%3D%3D%20952%20%29%20%7B%0A%20%20%20%20set%20obj.http.Content-Type%20%3D%20%22text%2Fhtml%22%3B%0A%20%20%20%20synthetic%20%7B%22%3C%21doctype%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3EInternal%20Server%20Error%3C%2Ftitle%3E%0A%20%20%20%20%3C%21--%20Required%20meta%20tags%20--%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22utf-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1%2C%20shrink-to-fit%3Dno%22%3E%0A%20%20%20%20%3Cstyle%3E%0A%40import%20url%28https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3Dopensans%3A500%29%3B%0Abody%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23111155%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%23fff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Open%20Sans%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max-height%3A700px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.c%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A80%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A100px%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20._404%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%20220px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20250px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20letter-spacing%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20._1%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3Acenter%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3Ablock%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3Arelative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20letter-spacing%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%204em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%2080%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A0.2em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A0.2em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20._2%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3Acenter%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3Ablock%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.text%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2070px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%2019px%200px%200px%200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20top%3A%20256.301px%3B%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%201.2em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.btn%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgb%28%20255%2C%20255%2C%20255%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20358px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%205px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%205%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2025px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A0%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%23111155%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin-right%3A%2010px%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.right%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20float%3Aright%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A60%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20hr%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-top%3A%205px%20solid%20%23fff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200px%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20420px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A10px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20-10%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20hr%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%22%5C2022%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%20-0.75em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%202em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%200.2em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23111155%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20.cloud%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20350px%3B%20height%3A%20120px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23FFF%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20-webkit-linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20-moz-linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20-ms-linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20-o-linear-gradient%28top%2C%20%23FFF%20100%25%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-border-radius%3A%20100px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%20120px%20auto%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A-1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20ease%201s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.cloud%3Aafter%2C%20.cloud%3Abefore%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23FFF%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20-1%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.cloud%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100px%3B%20height%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%20-50px%3B%20left%3A%2050px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-border-radius%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.cloud%3Abefore%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20180px%3B%20height%3A%20180px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%20-90px%3B%20right%3A%2050px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-border-radius%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-border-radius%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20.x1%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A-50px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.9%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2015s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2015s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2015s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20.x1_5%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A-80px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A250px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2017s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2017s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2017s%20linear%20infinite%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.x2%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%20250px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A30px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.6%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.x3%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%20250px%3B%20bottom%3A%20-70px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.8%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2025s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.x4%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%20470px%3B%20botttom%3A%2020px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.75%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.75%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.75%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.75%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2018s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2018s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2018s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.x5%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%20200px%3B%20top%3A%20300px%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-transform%3A%20scale%280.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-transform%3A%20scale%280.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%280.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.8%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-webkit-animation%3A%20moveclouds%2020s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-moz-animation%3A%20moveclouds%2020s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-o-animation%3A%20moveclouds%2020s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%40-webkit-keyframes%20moveclouds%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7Bmargin-left%3A%201000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7Bmargin-left%3A%20-1000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%40-moz-keyframes%20moveclouds%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7Bmargin-left%3A%201000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7Bmargin-left%3A%20-1000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%40-o-keyframes%20moveclouds%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7Bmargin-left%3A%201000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7Bmargin-left%3A%20-1000px%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%20%20%20%0A%20%20%20%20%3C%2Fstyle%3E%0A%20%20%3C%2Fhead%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cdiv%20id%3D%22clouds%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x1%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x1_5%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x2%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x3%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x4%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22cloud%20x5%22%3E%3C%2Fdiv%3E%0A%20%20%3C%2Fdiv%3E%0A%20%20%3Cdiv%20class%3D%27c%27%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%27_404%27%3E500%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Chr%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%27_1%27%3EINTERNAL%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%27_1%27%3ESERVER%20ERROR%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Ccode%20class%3D%27btn%27%3EThere%20is%20no%20action%20with%20the%20configured%20prefix.%3C%2Fcode%3E%0A%20%20%3C%2Fdiv%3E%0A%20%20%3C%2Fbody%3E%0A%3C%2Fhtml%3E%22%7D%3B%0A%20%20%20%20return%28deliver%29%3B%0A%20%20%7D%0A%20%20if%20%28obj.status%20%3D%3D%20953%20%29%20%7B%0A%20%20%20%20set%20obj.http.Content-Type%20%3D%20%22text%2Fhtml%22%3B%0A%20%20%20%20synthetic%20%7B%22includde%3A953.html%22%7D%3B%0A%20%20%20%20return%28deliver%29%3B%0A%20%20%7D%0A%7D%0A%0Asub%20vcl_fetch%20%7B%0A%23FASTLY%20fetch%0A%0A%20%20call%20hlx_fetch_errors%3B%0A%20%20call%20hlx_headers_fetch%3B%0A%20%0A%20%20unset%20beresp.http.Set-Cookie%3B%0A%20%20unset%20beresp.http.Vary%3B%0A%20%20unset%20beresp.http.Expires%3B%0A%0A%20%20set%20beresp.http.Vary%20%3D%20%22X-Debug%2C%20X-Strain%22%3B%0A%20%0A%20%20if%20%28beresp.http.Expires%20%7C%7C%20beresp.http.Surrogate-Control%20~%20%22max-age%22%20%7C%7C%20beresp.http.Cache-Control%20~%20%22%28s-maxage%7Cmax-age%29%22%29%20%7B%0A%20%20%20%20%23%20override%20ttl%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%23%20apply%20a%20default%20ttl%0A%20%20%20%20if%20%28beresp.status%20%3D%3D%20200%29%20%7B%0A%20%20%20%20%20%20set%20beresp.ttl%20%3D%20604800s%3B%0A%20%20%20%20%20%20set%20beresp.http.Cache-Control%20%3D%20%22max-age%3D604800%2C%20public%22%3B%0A%20%0A%20%20%20%20%20%20%23%20apply%20a%20longer%20ttl%20for%20images%0A%20%20%20%20%20%20if%20%28req.url.ext%20~%20%22%28%3Fi%29%28%3F%3Agif%7Cpng%7Cjpe%3Fg%7Cwebp%29%22%29%20%7B%0A%20%20%20%20%20%20%20%20set%20beresp.ttl%20%3D%202592000s%3B%0A%20%20%20%20%20%20%7D%0A%20%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20set%20beresp.ttl%20%3D%2060s%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20%28%20req.http.x-esi%20%29%20%7B%0A%20%20%20%20esi%3B%0A%20%20%7D%0A%20%0A%20%20return%28deliver%29%3B%0A%7D%0A%20%0Asub%20vcl_hit%20%7B%0A%23FASTLY%20hit%0A%20%0A%20%20if%20%28%21obj.cacheable%29%20%7B%0A%20%20%20%20return%28pass%29%3B%0A%20%20%7D%0A%20%20return%28deliver%29%3B%0A%7D%0A%20%0Asub%20vcl_miss%20%7B%0A%23FASTLY%20miss%0A%20%20%23%20set%20backend%20host%0A%20%20if%20%28req.backend%20%3D%3D%20F_runtime_adobe_io%29%20%7B%0A%20%20%20%20set%20bereq.http.host%20%3D%20%22runtime.adobe.io%22%3B%0A%20%20%7D%20elsif%20%28req.backend%20%3D%3D%20F_GitHub%29%20%7B%0A%20%20%20%20set%20bereq.http.host%20%3D%20%22raw.githubusercontent.com%22%3B%0A%20%20%7D%0A%0A%20%20%23%20set%20backend%20authentication%0A%20%20if%20%28req.backend%20%3D%3D%20F_runtime_adobe_io%29%20%7B%0A%20%20%20%20set%20bereq.http.Authorization%20%3D%20table.lookup%28secrets%2C%20%22OPENWHISK_AUTH%22%29%3B%0A%20%20%7D%0A%0A%20%20%23%20making%20sure%20to%20get%20an%20uncompressed%20object%20for%20ESI%0A%20%20if%20%28%20req.url.ext%20%3D%3D%20%22html%22%20%29%20%7B%0A%20%20%20unset%20bereq.http.Accept-Encoding%3B%0A%20%20%7D%0A%0A%20%20return%28fetch%29%3B%0A%7D%0A%20%0Asub%20vcl_deliver%20%7B%0A%23FASTLY%20deliver%0A%20%20call%20hlx_headers_deliver%3B%0A%0A%20%20set%20resp.http.Set-Cookie%20%3D%20%22X-Strain%3D%22%20%2B%20req.http.X-Strain%20%2B%20%22%3B%20Secure%3B%20HttpOnly%3B%20SameSite%3DStrict%3B%22%3B%0A%0A%20%20if%20%28%21req.http.X-Debug%29%20%7B%0A%20%20%20%20%23%20Unless%20we%20are%20debugging%2C%20shut%20up%20chatty%20headers%0A%20%20%20%20unset%20resp.http.Access-Control-Allow-Headers%3B%0A%20%20%20%20unset%20resp.http.Access-Control-Allow-Methods%3B%0A%20%20%20%20unset%20resp.http.Access-Control-Allow-Origin%3B%0A%20%20%20%20unset%20resp.http.Perf-Br-Resp-Out%3B%0A%20%20%20%20unset%20resp.http.Server%3B%0A%20%20%20%20unset%20resp.http.X-Request-Id%3B%0A%20%20%20%20unset%20resp.http.X-Backend-Name%3B%0A%20%20%20%20unset%20resp.http.X-CDN-Request-ID%3B%0A%20%20%20%20unset%20resp.http.Via%3B%0A%20%20%20%20unset%20resp.http.X-Served-By%3B%0A%20%20%20%20unset%20resp.http.X-Cache%3B%0A%20%20%20%20unset%20resp.http.X-Cache-Hits%3B%0A%20%20%20%20unset%20resp.http.X-Timer%3B%0A%20%20%20%20unset%20resp.http.X-Backend-URL%3B%0A%20%20%20%20unset%20resp.http.X-Branch%3B%0A%20%20%20%20unset%20resp.http.X-Strain%3B%0A%20%20%20%20unset%20resp.http.X-GW-Cache%3B%0A%20%20%7D%0A%20%20return%28deliver%29%3B%0A%7D%0A%20%0Asub%20vcl_error%20%7B%0A%23FASTLY%20error%0A%20%20call%20hlx_error_errors%3B%0A%7D%0A%20%0Asub%20vcl_pass%20%7B%0A%23FASTLY%20pass%0A%20%20%23%20set%20backend%20host%0A%20%20if%20%28req.backend%20%3D%3D%20F_runtime_adobe_io%29%20%7B%0A%20%20%20%20set%20bereq.http.host%20%3D%20%22runtime.adobe.io%22%3B%0A%20%20%7D%20elsif%20%28req.backend%20%3D%3D%20F_GitHub%29%20%7B%0A%20%20%20%20set%20bereq.http.host%20%3D%20%22raw.githubusercontent.com%22%3B%0A%20%20%7D%0A%0A%20%20%23%20making%20sure%20to%20get%20an%20uncompressed%20object%20for%20ESI%0A%20%20if%20%28%20req.url.ext%20%3D%3D%20%22html%22%20%29%20%7B%0A%20%20%20unset%20bereq.http.Accept-Encoding%3B%0A%20%20%7D%0A%0A%7D%0A%20%0Asub%20vcl_log%20%7B%0A%23FASTLY%20log%0A%7D

HTTP/1.1 200 OK
status: 200 OK
content-type: application/json
cache-control: no-cache
fastly-ratelimit-remaining: 983
fastly-ratelimit-reset: 1534842000
via: 1.1 varnish, 1.1 varnish
content-length: 34917
accept-ranges: bytes
date: Tue, 21 Aug 2018 08:50:09 GMT
connection: close
x-served-by: app-slwdc9051-SL, cache-sjc3134-SJC
x-cache: MISS, MISS
x-cache-hits: 0, 0
x-timer: S1534841408.437470,VS0,VE673
vary: Accept-Encoding

{"name":"helix.vcl","content":"#\n# Copyright 2018 Adobe. All rights reserved.\n# This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License. You may obtain a copy\n# of the License at http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software distributed under\n# the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n# OF ANY KIND, either express or implied. See the License for the specific language\n# governing permissions and limitations under the License.\n#\n\n# Determines the current strain, and sets the X-Strain header\nsub hlx_strain {\n  # TODO: add X-Strain-Key as a random-generated, validation property\n  # read strain from URL query string\n  if (subfield(req.url.qs, \"hlx_strain\", \"\u0026\")) {\n    set req.http.X-Strain = subfield(req.url.qs, \"hlx_strain\", \"\u0026\");\n  }\n  # read strain from Cookie\n  if (req.http.Cookie:X-Strain) {\n    set req.http.X-Strain = req.http.Cookie:X-Strain;\n  }\n  # we don't need cookies for anything else\n  unset req.http.Cookie;\n  # do not override strain if set in header\n  if (!req.http.X-Strain) {\n    set req.http.X-Strain = \"default\";\n\n    # run custom strain resolution\n    include \"strains.vcl\";\n  }\n}\n\n# Gets the content owner for the current strain and sets the X-Owner header\nsub hlx_owner {\n  set req.http.X-Owner = table.lookup(strain_owners, req.http.X-Strain);\n  if (!req.http.X-Owner) {\n    set req.http.X-Owner = table.lookup(strain_owners, \"default\");\n  }\n}\n\n# Gets the directory index for the current strain\nsub hlx_index {\n  set req.http.X-Index = table.lookup(strain_index_files, req.http.X-Strain);\n  if (!req.http.X-Index) {\n    set req.http.X-Index = table.lookup(strain_index_files, \"default\");\n  }\n}\n\n# Gets the content repo\nsub hlx_repo {\n  set req.http.X-Repo = table.lookup(strain_repos, req.http.X-Strain);\n  if (!req.http.X-Repo) {\n    set req.http.X-Repo = table.lookup(strain_repos, \"default\");\n  }\n}\n\n# Gets the content ref\nsub hlx_ref {\n  set req.http.X-Ref = table.lookup(strain_refs, req.http.X-Strain);\n  # fall back to default strain\n  if (!req.http.X-Ref) {\n    set req.http.X-Ref = table.lookup(strain_refs, \"default\");\n  }\n  # if default isn't set, use 'master'\n  if (!req.http.X-Ref) {\n    set req.http.X-Root-Path = \"master\";\n  }\n}\n\n# Gets the content path root\nsub hlx_root_path {\n  set req.http.X-Root-Path = table.lookup(strain_root_paths, req.http.X-Strain);\n  if (!req.http.X-Root-Path) {\n    set req.http.X-Root-Path = table.lookup(strain_root_paths, \"default\");\n  }\n  if (!req.http.X-Root-Path) {\n    set req.http.X-Root-Path = \"\";\n  }\n}\n\nsub hlx_action_root {\n  set req.http.X-Action-Root = table.lookup(strain_action_roots, req.http.X-Strain);\n  if (!req.http.X-Action-Root) {\n    set req.http.X-Action-Root = table.lookup(strain_action_roots, \"default\");\n  }\n  #set req.http.X-Action-Root = \"/trieloff/default/git-github-com-adobe-helix-cli-git--dirty--\";\n}\n\n# Gets the github static repo\nsub hlx_github_static_repo {\n  set req.http.X-Github-Static-Repo = table.lookup(strain_github_static_repos, req.http.X-Strain);\n  if (!req.http.X-Github-Static-Repo) {\n    set req.http.X-Github-Static-Repo = table.lookup(strain_github_static_repos, \"default\");\n  }\n}\n\n# Gets the github static owner\nsub hlx_github_static_owner {\n  set req.http.X-Github-Static-Owner = table.lookup(strain_github_static_owners, req.http.X-Strain);\n  if (!req.http.X-Github-Static-Owner) {\n    set req.http.X-Github-Static-Owner = table.lookup(strain_github_static_owners, \"default\");\n  }\n}\n\n# Gets the github static ref\nsub hlx_github_static_ref {\n  set req.http.X-Github-Static-Ref = table.lookup(strain_github_static_refs, req.http.X-Strain);\n  if (!req.http.X-Github-Static-Ref) {\n    set req.http.X-Github-Static-Ref = table.lookup(strain_github_static_refs, \"default\");\n  }\n}\n\n# rewrite required headers (called from recv)\nsub hlx_headers_recv {\n  # default conditions\n  if (!req.http.Fastly-SSL) {\n     error 801 \"Force SSL\";\n  }\n  # Header rewrite Request ID : 10\n  if (!req.http.X-CDN-Request-ID) {\n    set req.http.X-CDN-Request-ID = randomstr(8, \"0123456789abcdef\") + \"-\" + randomstr(4, \"0123456789abcdef\") + \"-4\" + randomstr(3, \"0123456789abcdef\") + \"-\" + randomstr(1, \"89ab\") + randomstr(3, \"0123456789abcdef\") + \"-\" + randomstr(12, \"0123456789abcdef\");\n  }\n\n  # Header rewrite Strain Cookie : 10\n  if (!req.http.Set-Cookie) {\n    set req.http.Set-Cookie = \"X-Strain=\" + req.http.X-Strain + \"; Secure; HttpOnly; SameSite=Strict;\";\n  } else {\n    set req.http.Set-Cookie = req.http.Set-Cookie \"X-Strain=\" + req.http.X-Strain + \"; Secure; HttpOnly; SameSite=Strict;\";\n  }\n}\n\n# rewrite required hedaers (called from fetch)\nsub hlx_headers_fetch {\n  if ( req.http.X-Debug ) {\n    # Header rewrite Backend Name : 10\n    if (!beresp.http.X-Backend-Name) {\n      set beresp.http.X-Backend-Name = beresp.backend.name;\n    }\n    # Header rewrite Response ID : 10\n    if (!beresp.http.X-CDN-Request-ID) {\n      set beresp.http.X-CDN-Request-ID = req.http.X-CDN-Request-ID;\n    }\n  }\n}\n\nsub hlx_headers_deliver {\n  # Header rewrite HSTS : 10\n  set resp.http.Strict-Transport-Security = \"max-age=31536000; includeSubDomains\";\n  # Header rewrite Host : 10\n  set resp.http.X-Host = req.http.Fastly-Orig-Host;\n  # Response Condition: Debug (Response) Prio: 10\n  if( req.http.X-Debug ) {\n    # Header rewrite Backend URL : 10\n    set resp.http.X-Backend-URL = req.url;\n    # Header rewrite Branch : 10\n    set resp.http.X-Branch = req.http.X-Branch;\n    # Header rewrite Strain : 10\n    set resp.http.X-Strain = req.http.X-Strain;\n    # Header rewrite Strain : 10\n    set resp.http.X-Github-Static-Ref = \"@\" + req.http.X-Github-Static-Ref;\n    \n    set resp.http.X-Dirname = req.http.X-Dirname;\n    set resp.http.X-Index = req.http.X-Index;\n  }\n\n  call hlx_deliver_errors;\n}\n\n# set backend (called from recv)\nsub hlx_backend_recv {\n  # Request Condition: Binaries only Prio: 10\n  if( req.url ~ \".(jpg|png|gif)($|\\?)\" ) {\n    set req.backend = F_GitHub;\n  }\n  \n  # Request Condition: HTML Only Prio: 10\n  if( req.url ~ \".(html)($|\\?)\" ) {\n    set req.backend = F_runtime_adobe_io;\n  }\n  #end condition\n}\n\nsub vcl_recv {\n#FASTLY recv\n\n  call hlx_headers_recv;\n  call hlx_backend_recv;\n\n  # Set original URL, so that we can log it afterwards.\n  # If request is on Fastly-FF, we shouldn't override it.\n  if (!req.http.Fastly-FF) {\n    set req.http.X-Orig-URL = req.url;\n  }\n\n  if (req.request != \"HEAD\" \u0026\u0026 req.request != \"GET\" \u0026\u0026 req.request != \"FASTLYPURGE\") {\n    return(pass);\n  }\n\n  # shorten URL\n  declare local var.owner STRING; # the GitHub user or org, e.g. adobe \n  declare local var.repo STRING; # the GitHub repo, e.g. project-helix\n  declare local var.ref STRING; # the GitHub branch or revision, e.g. master\n  declare local var.dir STRING; # the directory of the content\n  declare local var.name STRING; # the name (without extension) of the resource\n  declare local var.selector STRING; # the selector (between name and extension)\n  declare local var.extension STRING;\n  declare local var.branch STRING; # the branch of helix code to execute\n  declare local var.strain STRING; # the resolved strain\n  declare local var.action STRING; # the action to call\n  declare local var.path STRING; # resource path\n  declare local var.entry STRING; # bundler entry point\n\n  if (req.http.Fastly-FF) {\n    # disable ESI processing on Origin Shield\n    set req.esi = false;\n  } elseif ( req.url.ext == \"html\" ) {\n       set req.http.x-esi = \"1\";\n  }\n\n  # Determine the Current Branch using the Host header\n  # TODO: use Edge Side Dictinoaries to allow for more flexible configuration\n  # NOTE: I'm doing this outside the following IF statement, because the re variable \n  # would be reset by running repeated regexps\n\n  set var.branch = \"www\";\n\n  if (req.http.Host ~ \"^([^\\.]+)\\..+$\") {\n    set var.branch = re.group.1;\n  }\n\n  if (var.branch == \"www\") {\n    set var.branch = \"master\";\n  }\n\n  set req.http.X-Orig-Host = req.http.Fastly-Orig-Host;\n  set req.http.X-Host = req.http.Host;\n\n  set req.http.X-Branch = var.branch;\n\n\n\n  # Parse the Request URL, if this is a proper SSL-request \n  # (non-SSL gets redirected) to SSL-equivalent\n\n\n  # Deliver static content addressed with /dist via default 'html' action.\n  # todo: support for codeload or distinct function?\n  if (!req.http.Fastly-FF \u0026\u0026 req.http.Fastly-SSL \u0026\u0026 req.url.path ~ \"\\/dist\\/(.*)\") {\n    call hlx_github_static_ref;\n    set var.ref = req.http.X-Github-Static-Ref;\n\n    if (var.ref == \"\") {\n      # use 'bundled' static content in openwhisk action\n      call hlx_action_root;\n      set req.backend = F_runtime_adobe_io;\n      set req.url = \"/api/v1/web\" + req.http.X-Action-Root + \"html\" + \"?path=\" + req.url.path;\n\n    } else {\n      # use github as static files provider\n      call hlx_github_static_owner;\n      set var.owner = req.http.X-Github-Static-Owner;\n\n      call hlx_github_static_repo;\n      set var.repo = req.http.X-Github-Static-Repo;\n\n      set req.backend = F_GitHub;\n      set req.url = \"/\" + var.owner + \"/\" + var.repo + \"/\" + var.ref + \"/\" + re.group.1;\n    }\n  } elsif (!req.http.Fastly-FF \u0026\u0026 req.http.Fastly-SSL \u0026\u0026 (req.url.basename ~ \"(^[^\\.]+)(\\.?(.+))?(\\.[^\\.]*$)\" || req.url.basename == \"\")) {\n    # Parse the URL\n\n    call hlx_strain;\n    set var.strain = req.http.X-Strain;\n\n    call hlx_owner;\n    set var.owner = req.http.X-Owner;\n\n    call hlx_repo;\n    set var.repo = req.http.X-Repo;\n\n    call hlx_ref;\n    set var.ref = req.http.X-Ref;\n\n    call hlx_root_path;\n    if (req.http.X-Dirname) {\n      # set root path based on strain-specific dirname (strips away strain root)\n      set var.dir = req.http.X-Root-Path + req.http.X-Dirname;\n    } else {\n      set var.dir = req.http.X-Root-Path + req.url.dirname;\n    }\n\n    # repeat the regex in case another re-function has been called in the meantime\n    if (req.url.basename ~ \"(^[^\\.]+)(\\.?(.+))?(\\.[^\\.]*$)\") {\n      set var.name = re.group.1;\n      set var.selector = re.group.3;\n      set var.extension = regsub(req.url.ext, \"^\\.\", \"\");\n    } else {\n      call hlx_index;\n      if (req.http.X-Index ~ \"(^[^\\.]+)\\.?(.*)\\.([^\\.]+$)\") {\n        # determine directory index from strain config\n        set var.name = re.group.1;\n        set var.selector = re.group.2;\n        set var.extension = re.group.3;\n      } else {\n        # force default directory index\n        set req.http.X-Index = \"default\";\n        set var.name = \"index\";\n        set var.selector = \"\";\n        set var.extension = \"html\";\n      }\n    }\n\n    call hlx_action_root;\n\n    \n    \n    if (var.selector ~ \".+\") {\n      set var.action = req.http.X-Action-Root + var.selector + \"_\" + var.extension;\n    } else {\n      set var.action = req.http.X-Action-Root + var.extension;\n    }\n\n    # check for images, and get them from GitHub\n    if (req.url.ext ~ \"(?i)(png|jpg|jpeg)\") {\n      if (req.backend == F_GitHub \u0026\u0026 req.restarts == 0) {\n        if (server.identity !~ \"-IAD$\" \u0026\u0026 req.http.Fastly-FF !~ \"-IAD\") {\n          set req.backend = ssl_shield_iad_va_us;\n        }\n        if (!req.backend.healthy) {\n          # the shield datacenter is broken so dont go to it\n          set req.backend = F_GitHub;\n        }\n      }\n      set req.url = \"/\" + var.owner + \"/\" + var.repo + \"/\" + var.ref + \"/\" + var.dir + \"/\" + req.url.basename + \"?\" + req.url.qs;\n    } else {\n      # Invoke OpenWhisk\n      set req.url = \"/api/v1/web\" + var.action + \"?owner=\" + var.owner + \"\u0026repo=\" + var.repo + \"\u0026ref=\" + var.ref + \"\u0026path=\" + var.dir + \"/\" + var.name + \".md\" + \"\u0026selector=\" + var.selector + \"\u0026extension=\" + req.url.ext + \"\u0026branch=\" + var.branch + \"\u0026strain=\" + var.strain + \"\u0026GITHUB_KEY=\" + table.lookup(secrets, \"GITHUB_TOKEN\");\n    }\n  }\n\n  # enable IO for image file-types\n  if (req.url.ext ~ \"(?i)(?:gif|png|jpe?g|webp)\")  {\n    set req.http.X-Fastly-Imageopto-Api = \"fastly\";\n  }\n \n  return(lookup);\n}\n\nsub hlx_fetch_errors {\n  # Interpreting OpenWhisk errors is a bit tricky, because we don't have access to the JSON\n  # of the response body. Instead we are using the Content-Length of known error messages\n  # to determine the most likely root cause. Each root cause will get an internal status code\n  # starting with 951, which is then handled by `hlx_error_errors` and `hlx_deliver_errors`\n  if ( beresp.status == 404 \u0026\u0026 beresp.http.Content-Type==\"application/json\" \u0026\u0026 beresp.http.Content-Length==\"74\" ) {\n      # ResponseObject: Unknown Extension\n      error 951 \"Unknown Extension\";\n  }\n\n  if ( beresp.status == 404 \u0026\u0026 beresp.http.Content-Type==\"application/json\" \u0026\u0026 beresp.http.Content-Length==\"69\" ) {\n      # ResponseObject: Unknown Extension\n      error 952 \"Wrong Code Path\";\n  }\n\n  if ( beresp.status == 401 \u0026\u0026 beresp.http.Content-Type==\"application/json\" \u0026\u0026 beresp.http.Content-Length==\"65\" ) {\n      # ResponseObject: Unknown Extension\n      error 953 \"Can't Call Action\";\n  }\n} \n\nsub hlx_deliver_errors {\n  # Cache Condition: OpenWhisk Error Prio: 10    \n  if (resp.status == 951 ) {\n     set resp.status = 404;\n     set resp.response = \"Not Found\";\n  }\n  if (resp.status == 952 ) {\n     set resp.status = 500;\n     set resp.response = \"Internal Server Error\";\n  }\n  if (resp.status == 953 ) {\n     set resp.status = 500;\n     set resp.response = \"Internal Server Error\";\n  }\n}\n\nsub hlx_error_errors {\n  # Cache Condition: OpenWhisk Error Prio: 10  \n  if (obj.status == 951 ) {\n    set obj.http.Content-Type = \"text/html\";\n    synthetic {\"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003ctitle\u003eResource not Found\u003c/title\u003e\n    \u003c!-- Required meta tags --\u003e\n    \u003cmeta charset=\"utf-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\u003e\n    \u003cstyle\u003e\n@import url(https://fonts.googleapis.com/css?family=opensans:500);\nbody{\n                background: #111155;\n                color:#fff;\n                font-family: 'Open Sans', sans-serif;\n                max-height:700px;\n                overflow: hidden;\n            }\n            .c{\n                text-align: center;\n                display: block;\n                position: relative;\n                width:80%;\n                margin:100px auto;\n            }\n            ._404{\n                font-size: 220px;\n                position: relative;\n                display: inline-block;\n                z-index: 2;\n                height: 250px;\n                letter-spacing: 15px;\n            }\n            ._1{\n                text-align:center;\n                display:block;\n                position:relative;\n                letter-spacing: 12px;\n                font-size: 4em;\n                line-height: 80%;\n                margin-top:0.2em;\n                margin-bottom:0.2em;\n            }\n            ._2{\n                text-align:center;\n                display:block;\n                position: relative;\n                font-size: 20px;\n            }\n            .text{\n                font-size: 70px;\n                text-align: center;\n                position: relative;\n                display: inline-block;\n                margin: 19px 0px 0px 0px;\n                /* top: 256.301px; */\n                z-index: 3;\n                width: 100%;\n                line-height: 1.2em;\n                display: inline-block;\n            }\n          \n\n            .btn{\n                background-color: rgb( 255, 255, 255 );\n                position: relative;\n                display: inline-block;\n                width: 358px;\n                padding: 5px;\n                z-index: 5;\n                font-size: 25px;\n                margin:0 auto;\n                color:#111155;\n                text-decoration: none;\n                margin-right: 10px\n            }\n            .right{\n                float:right;\n                width:60%;\n            }\n            \n            hr{\n                padding: 0;\n                border: none;\n                border-top: 5px solid #fff;\n                color: #fff;\n                text-align: center;\n                margin: 0px auto;\n                width: 420px;\n                height:10px;\n                z-index: -10;\n            }\n            \n            hr:after {\n                content: \"\\2022\";\n                display: inline-block;\n                position: relative;\n                top: -0.75em;\n                font-size: 2em;\n                padding: 0 0.2em;\n                background: #111155;\n            }\n            \n            .cloud {\n                width: 350px; height: 120px;\n\n                background: #FFF;\n                background: linear-gradient(top, #FFF 100%);\n                background: -webkit-linear-gradient(top, #FFF 100%);\n                background: -moz-linear-gradient(top, #FFF 100%);\n                background: -ms-linear-gradient(top, #FFF 100%);\n                background: -o-linear-gradient(top, #FFF 100%);\n\n                border-radius: 100px;\n                -webkit-border-radius: 100px;\n                -moz-border-radius: 100px;\n\n                position: absolute;\n                margin: 120px auto 20px;\n                z-index:-1;\n                transition: ease 1s;\n            }\n\n            .cloud:after, .cloud:before {\n                content: '';\n                position: absolute;\n                background: #FFF;\n                z-index: -1\n            }\n\n            .cloud:after {\n                width: 100px; height: 100px;\n                top: -50px; left: 50px;\n\n                border-radius: 100px;\n                -webkit-border-radius: 100px;\n                -moz-border-radius: 100px;\n            }\n\n            .cloud:before {\n                width: 180px; height: 180px;\n                top: -90px; right: 50px;\n\n                border-radius: 200px;\n                -webkit-border-radius: 200px;\n                -moz-border-radius: 200px;\n            }\n            \n            .x1 {\n                top:-50px;\n                left:100px;\n                -webkit-transform: scale(0.3);\n                -moz-transform: scale(0.3);\n                transform: scale(0.3);\n                opacity: 0.9;\n                -webkit-animation: moveclouds 15s linear infinite;\n                -moz-animation: moveclouds 15s linear infinite;\n                -o-animation: moveclouds 15s linear infinite;\n            }\n            \n            .x1_5{\n                top:-80px;\n                left:250px;\n                -webkit-transform: scale(0.3);\n                -moz-transform: scale(0.3);\n                transform: scale(0.3);\n                -webkit-animation: moveclouds 17s linear infinite;\n                -moz-animation: moveclouds 17s linear infinite;\n                -o-animation: moveclouds 17s linear infinite; \n            }\n\n            .x2 {\n                left: 250px;\n                top:30px;\n                -webkit-transform: scale(0.6);\n                -moz-transform: scale(0.6);\n                transform: scale(0.6);\n                opacity: 0.6; \n                -webkit-animation: moveclouds 25s linear infinite;\n                -moz-animation: moveclouds 25s linear infinite;\n                -o-animation: moveclouds 25s linear infinite;\n            }\n\n            .x3 {\n                left: 250px; bottom: -70px;\n\n                -webkit-transform: scale(0.6);\n                -moz-transform: scale(0.6);\n                transform: scale(0.6);\n                opacity: 0.8; \n\n                -webkit-animation: moveclouds 25s linear infinite;\n                -moz-animation: moveclouds 25s linear infinite;\n                -o-animation: moveclouds 25s linear infinite;\n            }\n\n            .x4 {\n                left: 470px; botttom: 20px;\n\n                -webkit-transform: scale(0.75);\n                -moz-transform: scale(0.75);\n                transform: scale(0.75);\n                opacity: 0.75;\n\n                -webkit-animation: moveclouds 18s linear infinite;\n                -moz-animation: moveclouds 18s linear infinite;\n                -o-animation: moveclouds 18s linear infinite;\n            }\n\n            .x5 {\n                left: 200px; top: 300px;\n\n                -webkit-transform: scale(0.5);\n                -moz-transform: scale(0.5);\n                transform: scale(0.5);\n                opacity: 0.8; \n\n                -webkit-animation: moveclouds 20s linear infinite;\n                -moz-animation: moveclouds 20s linear infinite;\n                -o-animation: moveclouds 20s linear infinite;\n            }\n\n            @-webkit-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }\n            @-moz-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }\n            @-o-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }    \n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cdiv id=\"clouds\"\u003e\n      \u003cdiv class=\"cloud x1\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x1_5\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x2\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x3\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x4\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x5\"\u003e\u003c/div\u003e\n  \u003c/div\u003e\n  \u003cdiv class='c'\u003e\n      \u003cdiv class='_404'\u003e404\u003c/div\u003e\n      \u003chr\u003e\n      \u003cdiv class='_1'\u003eRESOURCE\u003c/div\u003e\n      \u003cdiv class='_1'\u003eNOT FOUND\u003c/div\u003e\n      \u003ccode class='btn'\u003eThe requested selector or extension could not be found.\u003c/code\u003e\n  \u003c/div\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\"};\n    return(deliver);\n  }\n  if (obj.status == 952 ) {\n    set obj.http.Content-Type = \"text/html\";\n    synthetic {\"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003ctitle\u003eInternal Server Error\u003c/title\u003e\n    \u003c!-- Required meta tags --\u003e\n    \u003cmeta charset=\"utf-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\u003e\n    \u003cstyle\u003e\n@import url(https://fonts.googleapis.com/css?family=opensans:500);\nbody{\n                background: #111155;\n                color:#fff;\n                font-family: 'Open Sans', sans-serif;\n                max-height:700px;\n                overflow: hidden;\n            }\n            .c{\n                text-align: center;\n                display: block;\n                position: relative;\n                width:80%;\n                margin:100px auto;\n            }\n            ._404{\n                font-size: 220px;\n                position: relative;\n                display: inline-block;\n                z-index: 2;\n                height: 250px;\n                letter-spacing: 15px;\n            }\n            ._1{\n                text-align:center;\n                display:block;\n                position:relative;\n                letter-spacing: 12px;\n                font-size: 4em;\n                line-height: 80%;\n                margin-top:0.2em;\n                margin-bottom:0.2em;\n            }\n            ._2{\n                text-align:center;\n                display:block;\n                position: relative;\n                font-size: 20px;\n            }\n            .text{\n                font-size: 70px;\n                text-align: center;\n                position: relative;\n                display: inline-block;\n                margin: 19px 0px 0px 0px;\n                /* top: 256.301px; */\n                z-index: 3;\n                width: 100%;\n                line-height: 1.2em;\n                display: inline-block;\n            }\n          \n\n            .btn{\n                background-color: rgb( 255, 255, 255 );\n                position: relative;\n                display: inline-block;\n                width: 358px;\n                padding: 5px;\n                z-index: 5;\n                font-size: 25px;\n                margin:0 auto;\n                color:#111155;\n                text-decoration: none;\n                margin-right: 10px\n            }\n            .right{\n                float:right;\n                width:60%;\n            }\n            \n            hr{\n                padding: 0;\n                border: none;\n                border-top: 5px solid #fff;\n                color: #fff;\n                text-align: center;\n                margin: 0px auto;\n                width: 420px;\n                height:10px;\n                z-index: -10;\n            }\n            \n            hr:after {\n                content: \"\\2022\";\n                display: inline-block;\n                position: relative;\n                top: -0.75em;\n                font-size: 2em;\n                padding: 0 0.2em;\n                background: #111155;\n            }\n            \n            .cloud {\n                width: 350px; height: 120px;\n\n                background: #FFF;\n                background: linear-gradient(top, #FFF 100%);\n                background: -webkit-linear-gradient(top, #FFF 100%);\n                background: -moz-linear-gradient(top, #FFF 100%);\n                background: -ms-linear-gradient(top, #FFF 100%);\n                background: -o-linear-gradient(top, #FFF 100%);\n\n                border-radius: 100px;\n                -webkit-border-radius: 100px;\n                -moz-border-radius: 100px;\n\n                position: absolute;\n                margin: 120px auto 20px;\n                z-index:-1;\n                transition: ease 1s;\n            }\n\n            .cloud:after, .cloud:before {\n                content: '';\n                position: absolute;\n                background: #FFF;\n                z-index: -1\n            }\n\n            .cloud:after {\n                width: 100px; height: 100px;\n                top: -50px; left: 50px;\n\n                border-radius: 100px;\n                -webkit-border-radius: 100px;\n                -moz-border-radius: 100px;\n            }\n\n            .cloud:before {\n                width: 180px; height: 180px;\n                top: -90px; right: 50px;\n\n                border-radius: 200px;\n                -webkit-border-radius: 200px;\n                -moz-border-radius: 200px;\n            }\n            \n            .x1 {\n                top:-50px;\n                left:100px;\n                -webkit-transform: scale(0.3);\n                -moz-transform: scale(0.3);\n                transform: scale(0.3);\n                opacity: 0.9;\n                -webkit-animation: moveclouds 15s linear infinite;\n                -moz-animation: moveclouds 15s linear infinite;\n                -o-animation: moveclouds 15s linear infinite;\n            }\n            \n            .x1_5{\n                top:-80px;\n                left:250px;\n                -webkit-transform: scale(0.3);\n                -moz-transform: scale(0.3);\n                transform: scale(0.3);\n                -webkit-animation: moveclouds 17s linear infinite;\n                -moz-animation: moveclouds 17s linear infinite;\n                -o-animation: moveclouds 17s linear infinite; \n            }\n\n            .x2 {\n                left: 250px;\n                top:30px;\n                -webkit-transform: scale(0.6);\n                -moz-transform: scale(0.6);\n                transform: scale(0.6);\n                opacity: 0.6; \n                -webkit-animation: moveclouds 25s linear infinite;\n                -moz-animation: moveclouds 25s linear infinite;\n                -o-animation: moveclouds 25s linear infinite;\n            }\n\n            .x3 {\n                left: 250px; bottom: -70px;\n\n                -webkit-transform: scale(0.6);\n                -moz-transform: scale(0.6);\n                transform: scale(0.6);\n                opacity: 0.8; \n\n                -webkit-animation: moveclouds 25s linear infinite;\n                -moz-animation: moveclouds 25s linear infinite;\n                -o-animation: moveclouds 25s linear infinite;\n            }\n\n            .x4 {\n                left: 470px; botttom: 20px;\n\n                -webkit-transform: scale(0.75);\n                -moz-transform: scale(0.75);\n                transform: scale(0.75);\n                opacity: 0.75;\n\n                -webkit-animation: moveclouds 18s linear infinite;\n                -moz-animation: moveclouds 18s linear infinite;\n                -o-animation: moveclouds 18s linear infinite;\n            }\n\n            .x5 {\n                left: 200px; top: 300px;\n\n                -webkit-transform: scale(0.5);\n                -moz-transform: scale(0.5);\n                transform: scale(0.5);\n                opacity: 0.8; \n\n                -webkit-animation: moveclouds 20s linear infinite;\n                -moz-animation: moveclouds 20s linear infinite;\n                -o-animation: moveclouds 20s linear infinite;\n            }\n\n            @-webkit-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }\n            @-moz-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }\n            @-o-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }    \n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cdiv id=\"clouds\"\u003e\n      \u003cdiv class=\"cloud x1\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x1_5\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x2\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x3\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x4\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x5\"\u003e\u003c/div\u003e\n  \u003c/div\u003e\n  \u003cdiv class='c'\u003e\n      \u003cdiv class='_404'\u003e500\u003c/div\u003e\n      \u003chr\u003e\n      \u003cdiv class='_1'\u003eINTERNAL\u003c/div\u003e\n      \u003cdiv class='_1'\u003eSERVER ERROR\u003c/div\u003e\n      \u003ccode class='btn'\u003eThere is no action with the configured prefix.\u003c/code\u003e\n  \u003c/div\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\"};\n    return(deliver);\n  }\n  if (obj.status == 953 ) {\n    set obj.http.Content-Type = \"text/html\";\n    synthetic {\"includde:953.html\"};\n    return(deliver);\n  }\n}\n\nsub vcl_fetch {\n#FASTLY fetch\n\n  call hlx_fetch_errors;\n  call hlx_headers_fetch;\n \n  unset beresp.http.Set-Cookie;\n  unset beresp.http.Vary;\n  unset beresp.http.Expires;\n\n  set beresp.http.Vary = \"X-Debug, X-Strain\";\n \n  if (beresp.http.Expires || beresp.http.Surrogate-Control ~ \"max-age\" || beresp.http.Cache-Control ~ \"(s-maxage|max-age)\") {\n    # override ttl\n    } else {\n    # apply a default ttl\n    if (beresp.status == 200) {\n      set beresp.ttl = 604800s;\n      set beresp.http.Cache-Control = \"max-age=604800, public\";\n \n      # apply a longer ttl for images\n      if (req.url.ext ~ \"(?i)(?:gif|png|jpe?g|webp)\") {\n        set beresp.ttl = 2592000s;\n      }\n \n    } else {\n      set beresp.ttl = 60s;\n    }\n  }\n\n  if ( req.http.x-esi ) {\n    esi;\n  }\n \n  return(deliver);\n}\n \nsub vcl_hit {\n#FASTLY hit\n \n  if (!obj.cacheable) {\n    return(pass);\n  }\n  return(deliver);\n}\n \nsub vcl_miss {\n#FASTLY miss\n  # set backend host\n  if (req.backend == F_runtime_adobe_io) {\n    set bereq.http.host = \"runtime.adobe.io\";\n  } elsif (req.backend == F_GitHub) {\n    set bereq.http.host = \"raw.githubusercontent.com\";\n  }\n\n  # set backend authentication\n  if (req.backend == F_runtime_adobe_io) {\n    set bereq.http.Authorization = table.lookup(secrets, \"OPENWHISK_AUTH\");\n  }\n\n  # making sure to get an uncompressed object for ESI\n  if ( req.url.ext == \"html\" ) {\n   unset bereq.http.Accept-Encoding;\n  }\n\n  return(fetch);\n}\n \nsub vcl_deliver {\n#FASTLY deliver\n  call hlx_headers_deliver;\n\n  set resp.http.Set-Cookie = \"X-Strain=\" + req.http.X-Strain + \"; Secure; HttpOnly; SameSite=Strict;\";\n\n  if (!req.http.X-Debug) {\n    # Unless we are debugging, shut up chatty headers\n    unset resp.http.Access-Control-Allow-Headers;\n    unset resp.http.Access-Control-Allow-Methods;\n    unset resp.http.Access-Control-Allow-Origin;\n    unset resp.http.Perf-Br-Resp-Out;\n    unset resp.http.Server;\n    unset resp.http.X-Request-Id;\n    unset resp.http.X-Backend-Name;\n    unset resp.http.X-CDN-Request-ID;\n    unset resp.http.Via;\n    unset resp.http.X-Served-By;\n    unset resp.http.X-Cache;\n    unset resp.http.X-Cache-Hits;\n    unset resp.http.X-Timer;\n    unset resp.http.X-Backend-URL;\n    unset resp.http.X-Branch;\n    unset resp.http.X-Strain;\n    unset resp.http.X-GW-Cache;\n  }\n  return(deliver);\n}\n \nsub vcl_error {\n#FASTLY error\n  call hlx_error_errors;\n}\n \nsub vcl_pass {\n#FASTLY pass\n  # set backend host\n  if (req.backend == F_runtime_adobe_io) {\n    set bereq.http.host = \"runtime.adobe.io\";\n  } elsif (req.backend == F_GitHub) {\n    set bereq.http.host = \"raw.githubusercontent.com\";\n  }\n\n  # making sure to get an uncompressed object for ESI\n  if ( req.url.ext == \"html\" ) {\n   unset bereq.http.Accept-Encoding;\n  }\n\n}\n \nsub vcl_log {\n#FASTLY log\n}","service_id":"1hmICxJdPU6lDhlHgOAmrl","version":2,"deleted_at":null,"main":false,"created_at":"2018-08-21T08:50:08Z","updated_at":"2018-08-21T08:50:08Z"}