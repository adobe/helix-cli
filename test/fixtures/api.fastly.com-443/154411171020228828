PUT /service/1s45RKXKEjuo2s0GWrF391/version/2/vcl/helix.vcl/main
accept: application/json
host: api.fastly.com

HTTP/1.1 200 OK
status: 200 OK
content-type: application/json
cache-control: no-cache
fastly-ratelimit-remaining: 821
fastly-ratelimit-reset: 1544112000
accept-ranges: bytes, bytes
via: 1.1 varnish, 1.1 varnish
content-length: 50112
date: Thu, 06 Dec 2018 15:55:09 GMT
connection: close
x-served-by: cache-control-slwdc9035-CONTROL-SLWDC, cache-sjc3643-SJC
x-cache: MISS, MISS
x-cache-hits: 0, 0
x-timer: S1544111709.202781,VS0,VE497
vary: Accept-Encoding

{"version":2,"name":"helix.vcl","content":"#\n# Copyright 2018 Adobe. All rights reserved.\n# This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License. You may obtain a copy\n# of the License at http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software distributed under\n# the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n# OF ANY KIND, either express or implied. See the License for the specific language\n# governing permissions and limitations under the License.\n#\n\n# Determines the current strain, and sets the X-Strain header\nsub hlx_strain {\n  # TODO: add X-Strain-Key as a random-generated, validation property\n  # read strain from URL query string\n  if (subfield(req.url.qs, \"hlx_strain\", \"\u0026\")) {\n    set req.http.X-Strain = subfield(req.url.qs, \"hlx_strain\", \"\u0026\");\n  }\n  # read strain from Cookie\n  if (req.http.Cookie:X-Strain) {\n    set req.http.X-Strain = req.http.Cookie:X-Strain;\n  }\n  # we don't need cookies for anything else\n  unset req.http.Cookie;\n  # do not override strain if set in header\n  if (!req.http.X-Strain) {\n    set req.http.X-Strain = \"default\";\n\n    # run custom strain resolution\n    include \"strains.vcl\";\n  }\n}\n\n# Gets the content whitelist for the current strain and sets the X-Allow header\nsub hlx_allow {\n  # starting permissive â€“ change this for a more restrictive default\n  set req.http.X-Allow = \".*\";\n  set req.http.X-Allow = table.lookup(strain_allow, req.http.X-Strain);\n  if (!req.http.X-Allow) {\n    set req.http.X-Allow = table.lookup(strain_allow, \"default\");\n  }\n}\n\n# Gets the content blacklist for the current strain and sets the X-Deny header\nsub hlx_deny {\n  set req.http.X-Deny = \"^.hlx$\";\n  set req.http.X-Deny = table.lookup(strain_deny, req.http.X-Strain);\n  if (!req.http.X-Deny) {\n    set req.http.X-Deny = table.lookup(strain_deny, \"default\");\n  }\n}\n\n# Implements the content block list (to be called from vcl_recv)\nsub hlx_block_recv {\n  call hlx_deny;\n  call hlx_allow;\n}\n\n# Gets the content owner for the current strain and sets the X-Owner header\nsub hlx_owner {\n  set req.http.X-Owner = table.lookup(strain_owners, req.http.X-Strain);\n  if (!req.http.X-Owner) {\n    set req.http.X-Owner = table.lookup(strain_owners, \"default\");\n  }\n}\n\n# Gets the directory index for the current strain\nsub hlx_index {\n  set req.http.X-Index = table.lookup(strain_index_files, req.http.X-Strain);\n  if (!req.http.X-Index) {\n    set req.http.X-Index = table.lookup(strain_index_files, \"default\");\n  }\n}\n\n# Gets the content repo\nsub hlx_repo {\n  set req.http.X-Repo = table.lookup(strain_repos, req.http.X-Strain);\n  if (!req.http.X-Repo) {\n    set req.http.X-Repo = table.lookup(strain_repos, \"default\");\n  }\n}\n\n# Gets the content ref\nsub hlx_ref {\n  set req.http.X-Ref = table.lookup(strain_refs, req.http.X-Strain);\n  # fall back to default strain\n  if (!req.http.X-Ref) {\n    set req.http.X-Ref = table.lookup(strain_refs, \"default\");\n  }\n  # if default isn't set, use 'master'\n  if (!req.http.X-Ref) {\n    set req.http.X-Root-Path = \"master\";\n  }\n}\n\n# Gets the content path root\nsub hlx_root_path {\n  set req.http.X-Root-Path = table.lookup(strain_root_paths, req.http.X-Strain);\n  if (!req.http.X-Root-Path) {\n    set req.http.X-Root-Path = table.lookup(strain_root_paths, \"default\");\n  }\n  if (!req.http.X-Root-Path) {\n    set req.http.X-Root-Path = \"\";\n  }\n}\n\nsub hlx_action_root {\n  set req.http.X-Action-Root = table.lookup(strain_action_roots, req.http.X-Strain);\n  if (!req.http.X-Action-Root) {\n    set req.http.X-Action-Root = table.lookup(strain_action_roots, \"default\");\n  }\n  #set req.http.X-Action-Root = \"/trieloff/default/git-github-com-adobe-helix-cli-git--dirty--\";\n}\n\n# Gets the github static repo\nsub hlx_github_static_repo {\n  set req.http.X-Github-Static-Repo = table.lookup(strain_github_static_repos, req.http.X-Strain);\n  if (!req.http.X-Github-Static-Repo) {\n    set req.http.X-Github-Static-Repo = table.lookup(strain_github_static_repos, \"default\");\n  }\n}\n\n# Gets the github static owner\nsub hlx_github_static_owner {\n  set req.http.X-Github-Static-Owner = table.lookup(strain_github_static_owners, req.http.X-Strain);\n  if (!req.http.X-Github-Static-Owner) {\n    set req.http.X-Github-Static-Owner = table.lookup(strain_github_static_owners, \"default\");\n  }\n}\n\n# Gets the github static root\nsub hlx_github_static_root {\n  set req.http.X-Github-Static-Root = table.lookup(strain_github_static_root, req.http.X-Strain);\n  if (!req.http.X-Github-Static-Root) {\n    set req.http.X-Github-Static-Root = table.lookup(strain_github_static_root, \"default\");\n  }\n  if (!req.http.X-Github-Static-Root) {\n    set req.http.X-Github-Static-Root = \"/\";\n  }\n}\n\n# Gets the github static ref\nsub hlx_github_static_ref {\n  set req.http.X-Github-Static-Ref = table.lookup(strain_github_static_refs, req.http.X-Strain);\n  if (!req.http.X-Github-Static-Ref) {\n    set req.http.X-Github-Static-Ref = table.lookup(strain_github_static_refs, \"default\");\n  }\n}\n\n# rewrite required headers (called from recv)\nsub hlx_headers_recv {\n  # default conditions\n  if (!req.http.Fastly-SSL) {\n     error 801 \"Force SSL\";\n  }\n  # Header rewrite Request ID : 10\n  if (!req.http.X-CDN-Request-ID) {\n    set req.http.X-CDN-Request-ID = randomstr(8, \"0123456789abcdef\") + \"-\" + randomstr(4, \"0123456789abcdef\") + \"-4\" + randomstr(3, \"0123456789abcdef\") + \"-\" + randomstr(1, \"89ab\") + randomstr(3, \"0123456789abcdef\") + \"-\" + randomstr(12, \"0123456789abcdef\");\n  }\n\n  # Header rewrite Strain Cookie : 10\n  if (!req.http.Set-Cookie) {\n    set req.http.Set-Cookie = \"X-Strain=\" + req.http.X-Strain + \"; Secure; HttpOnly; SameSite=Strict;\";\n  } else {\n    set req.http.Set-Cookie = req.http.Set-Cookie \"X-Strain=\" + req.http.X-Strain + \"; Secure; HttpOnly; SameSite=Strict;\";\n  }\n}\n\n# rewrite required headers (called from fetch)\nsub hlx_headers_fetch {\n  if ( req.http.X-Debug ) {\n    # Header rewrite Backend Name : 10\n    if (!beresp.http.X-Backend-Name) {\n      set beresp.http.X-Backend-Name = beresp.backend.name;\n    }\n    # Header rewrite Response ID : 10\n    if (!beresp.http.X-CDN-Request-ID) {\n      set beresp.http.X-CDN-Request-ID = req.http.X-CDN-Request-ID;\n    }\n  }\n}\n\nsub hlx_headers_deliver {\n  # Header rewrite HSTS : 10\n  set resp.http.Strict-Transport-Security = \"max-age=31536000; includeSubDomains\";\n  # Header rewrite Host : 10\n  set resp.http.X-Host = req.http.Fastly-Orig-Host;\n  # Response Condition: Debug (Response) Prio: 10\n\n  set resp.http.X-Version = req.http.X-Version;\n\n  if( req.http.X-Debug ) {\n    # Header rewrite Backend URL : 10\n    set resp.http.X-Backend-URL = req.url;\n    # Header rewrite Branch : 10\n    set resp.http.X-Branch = req.http.X-Branch;\n    # Header rewrite Strain : 10\n    set resp.http.X-Strain = req.http.X-Strain;\n    # Header rewrite Strain : 10\n    set resp.http.X-Github-Static-Ref = \"@\" + req.http.X-Github-Static-Ref;\n\n    set resp.http.X-Dirname = req.http.X-Dirname;\n    set resp.http.X-Index = req.http.X-Index;\n    set resp.http.X-Action-Root = req.http.X-Action-Root;\n    set resp.http.X-URL = req.http.X-URL;\n    set resp.http.X-Root-Path = req.http.X-Root-Path;\n\n    set resp.http.X-Fastly-Imageopto-Api = req.http.X-Fastly-Imageopto-Api;\n\n    set resp.http.X-Embed = req.http.X-Embed;\n }\n\n  call hlx_deliver_errors;\n}\n\n# set backend (called from recv)\nsub hlx_backend_recv {\n  set req.backend = F_AdobeRuntime;\n\n  # Request Condition: Binaries only Prio: 10\n  if( req.url.ext ~ \"(?i)^(?:gif|png|jpe?g|webp)$\" ) {\n    set req.backend = F_GitHub;\n\n    if (req.restarts == 0) {\n      # enable shielding, needed for Image Optimization\n      if (server.identity !~ \"-IAD$\" \u0026\u0026 req.http.Fastly-FF !~ \"-IAD\") {\n        set req.backend = ssl_shield_iad_va_us;\n      }\n      if (!req.backend.healthy) {\n        # the shield datacenter is broken so dont go to it\n        set req.backend = F_GitHub;\n      }\n    }\n  }\n\n  # Request Condition: HTML Only Prio: 10\n  if( req.url ~ \".(html)($|\\?)\" ) {\n    set req.backend = F_AdobeRuntime;\n  }\n  #end condition\n}\n\nsub vcl_recv {\n#FASTLY recv\n\n  call hlx_headers_recv;\n  call hlx_backend_recv;\n\n  # Set original URL, so that we can log it afterwards.\n  # If request is on Fastly-FF, we shouldn't override it.\n  set req.http.X-Orig-URL = req.url;\n\n  if (!req.http.X-URL) {\n    set req.http.X-URL = req.url;\n  }\n  \n\n  if (req.request != \"HEAD\" \u0026\u0026 req.request != \"GET\" \u0026\u0026 req.request != \"FASTLYPURGE\") {\n    return(pass);\n  }\n\n  # shorten URL\n  declare local var.owner STRING; # the GitHub user or org, e.g. adobe\n  declare local var.repo STRING; # the GitHub repo, e.g. project-helix\n  declare local var.ref STRING; # the GitHub branch or revision, e.g. master\n  declare local var.dir STRING; # the directory of the content\n  declare local var.name STRING; # the name (without extension) of the resource\n  declare local var.selector STRING; # the selector (between name and extension)\n  declare local var.extension STRING;\n  declare local var.branch STRING; # the branch of helix code to execute\n  declare local var.strain STRING; # the resolved strain\n  declare local var.action STRING; # the action to call\n  declare local var.path STRING; # resource path\n  declare local var.entry STRING; # bundler entry point\n\n  if (req.http.Fastly-FF) {\n    # disable ESI processing on Origin Shield\n    set req.esi = false;\n  } elseif ( req.url.ext == \"html\" ) {\n       set req.http.x-esi = \"1\";\n  }\n\n  set var.branch = \"www\";\n\n  if (req.http.Host ~ \"^([^\\.]+)\\..+$\") {\n    set var.branch = re.group.1;\n  }\n\n  if (var.branch == \"www\") {\n    set var.branch = \"master\";\n  }\n\n  set req.http.X-Orig-Host = req.http.Fastly-Orig-Host;\n  # set req.http.X-URL = req.url;\n  set req.http.X-Host = req.http.Host;\n\n  set req.http.X-Branch = var.branch;\n\n\n  call hlx_strain;\n  set var.strain = req.http.X-Strain;\n\n  # block bad requests â€“ needs current strain and unchanged req.url\n  call hlx_block_recv;\n\n  # Parse the Request URL, if this is a proper SSL-request\n  # (non-SSL gets redirected) to SSL-equivalent\n\n\n  if (req.http.Fastly-SSL \u0026\u0026 (req.http.X-Static == \"Static\")) {\n    # This is a static request.\n\n    # Load important information from edge dicts\n    call hlx_github_static_owner;\n    set var.owner = req.http.X-Github-Static-Owner;\n\n    call hlx_github_static_repo;\n    set var.repo = req.http.X-Github-Static-Repo;\n\n    call hlx_github_static_ref;\n    set var.ref = req.http.X-Github-Static-Ref;\n\n    call hlx_github_static_root;\n\n    # TODO: check for URL ending with `/` and look up index file\n    set var.path = req.http.X-URL;\n    set var.entry = req.http.X-URL;\n\n    # TODO: load magic flag\n    set req.http.X-Plain = \"true\";\n\n    # get it from OpenWhisk\n    set req.backend = F_AdobeRuntime;\n\n    set req.http.X-Action-Root = \"/api/v1/web/\" + table.lookup(secrets, \"OPENWHISK_NAMESPACE\") + \"/default/hlx--static\";\n    set req.url = req.http.X-Action-Root + \"?owner=\" + var.owner + \"\u0026repo=\" + var.repo + \"\u0026strain=\" + var.strain + \"\u0026ref=\" + var.ref + \"\u0026entry=\" + var.entry + \"\u0026path=\" + var.path + \"\u0026plain=true\"  + \"\u0026allow=\" urlencode(req.http.X-Allow) + \"\u0026deny=\" urlencode(req.http.X-Deny) + \"\u0026root=\" + req.http.X-Github-Static-Root;\n\n  } elseif (req.http.Fastly-SSL \u0026\u0026 (req.http.X-Static == \"Redirect\")) {\n    # Handle a redirect from static.js by\n    # - fetching the resource from GitHub\n    # - don't forget to override the Content-Type header\n    set req.backend = F_GitHub;\n\n        //(!req.http.Fastly-FF \u0026\u0026 req.http.Fastly-SSL \u0026\u0026 (req.url.basename ~ \"(^[^\\.]+)(\\.?(.+))?(\\.[^\\.]*$)\" || req.url.basename == \"\"))\n  } elseif (req.http.Fastly-SSL \u0026\u0026 req.http.host == \"adobeioruntime.net\") {\n    # This is an embed request\n    # Fastly sends embed requests back to the same service config (which is why\n    # we are handling it here), but keeps the correct Host header in place (which\n    # is why we can check against it)\n\n    set req.backend = F_AdobeRuntime;\n\n    # make sure we hit the right backend\n    # and keep everything else in place\n\n    set req.http.X-Embed = req.http.X-URL;\n  } elsif (req.http.Fastly-SSL) {\n    # This is a dynamic request.\n\n    # Load important information from edge dicts\n    call hlx_owner;\n    set var.owner = req.http.X-Owner;\n\n    call hlx_repo;\n    set var.repo = req.http.X-Repo;\n\n    call hlx_ref;\n    set var.ref = req.http.X-Ref;\n\n    call hlx_root_path;\n    if (req.http.X-Dirname) {\n      # set root path based on strain-specific dirname (strips away strain root)\n      set var.dir = req.http.X-Root-Path + req.http.X-Dirname;\n    } else {\n      set var.dir = req.http.X-Root-Path + req.url.dirname;\n    }\n    set var.dir = regsuball(var.dir, \"/+\", \"/\");\n\n    # repeat the regex in case another re-function has been called in the meantime\n    if (req.url.basename ~ \"(^[^\\.]+)(\\.?(.+))?(\\.[^\\.]*$)\") {\n      set var.name = re.group.1;\n      set var.selector = re.group.3;\n      set var.extension = regsub(req.url.ext, \"^\\.\", \"\");\n    } else {\n      call hlx_index;\n      # enable ESI\n      set req.http.x-esi = \"1\";\n      if (req.http.X-Index ~ \"(^[^\\.]+)\\.?(.*)\\.([^\\.]+$)\") {\n        # determine directory index from strain config\n        set var.name = re.group.1;\n        set var.selector = re.group.2;\n        set var.extension = re.group.3;\n      } else {\n        # force default directory index\n        set req.http.X-Index = \"default\";\n        set var.name = \"index\";\n        set var.selector = \"\";\n        set var.extension = \"html\";\n      }\n    }\n\n    call hlx_action_root;\n\n    if (var.selector ~ \".+\") {\n      set var.action = req.http.X-Action-Root + var.selector + \"_\" + var.extension;\n    } else {\n      set var.action = req.http.X-Action-Root + var.extension;\n    }\n\n    # check for images, and get them from GitHub\n    if (req.url.ext ~ \"(?i)^(?:gif|png|jpe?g|webp)$\") {\n      set var.path = var.dir + \"/\" + req.url.basename;\n      set var.path = regsuball(var.path, \"/+\", \"/\");\n      set req.url = \"/\" + var.owner + \"/\" + var.repo + \"/\" + var.ref + var.path + \"?\" + req.url.qs;\n\n      # enable IO for image file-types\n      set req.http.X-Fastly-Imageopto-Api = \"fastly\";\n    } else {\n      # get (strain-specific) parameter whitelist\n      include \"params.vcl\";\n\n\n      set var.path = var.dir + \"/\" + var.name + \".md\";\n      set var.path = regsuball(var.path, \"/+\", \"/\");\n      # Invoke OpenWhisk\n      set req.url = \"/api/v1/web\" + var.action + \n        \"?owner=\" + var.owner + \n        \"\u0026repo=\" + var.repo + \n        \"\u0026ref=\" + var.ref + \n        \"\u0026path=\" + var.path + \n        \"\u0026selector=\" + var.selector + \n        \"\u0026extension=\" + req.url.ext + \n        \"\u0026branch=\" + var.branch + \n        \"\u0026strain=\" + var.strain + \n        \"\u0026params=\" + req.http.X-Encoded-Params;\n    }\n  }\n\n  # set X-Version initial value\n  set req.http.X-Version = regsub(req.vcl, \"([^.]+)\\.(\\d+)_(\\d+)-(.*)\", \"\\2\");\n\n  # run generated vcl\n  include \"dynamic.vcl\";\n  # re-enable shielding for changed backends\n  include \"reset.vcl\";\n\n  return(lookup);\n}\n\nsub hlx_fetch_errors {\n  # Interpreting OpenWhisk errors is a bit tricky, because we don't have access to the JSON\n  # of the response body. Instead we are using the Content-Length of known error messages\n  # to determine the most likely root cause. Each root cause will get an internal status code\n  # starting with 951, which is then handled by `hlx_error_errors` and `hlx_deliver_errors`\n  if ( beresp.status == 404 \u0026\u0026 beresp.http.Content-Type==\"application/json\" \u0026\u0026 beresp.http.Content-Length==\"74\" ) {\n      # ResponseObject: Unknown Extension\n      error 951 \"Unknown Extension\";\n  }\n\n  if ( beresp.status == 404 \u0026\u0026 beresp.http.Content-Type==\"application/json\" \u0026\u0026 beresp.http.Content-Length==\"69\" ) {\n      # ResponseObject: Unknown Extension\n      error 952 \"Wrong Code Path\";\n  }\n\n  if ( beresp.status == 401 \u0026\u0026 beresp.http.Content-Type==\"application/json\" \u0026\u0026 beresp.http.Content-Length==\"65\" ) {\n      # ResponseObject: Unknown Extension\n      error 953 \"Can't Call Action\";\n  }\n}\n\nsub hlx_deliver_errors {\n\n  # Cache Condition: OpenWhisk Error Prio: 10\n  if (resp.status == 951 ) {\n     set resp.status = 404;\n     set resp.response = \"Not Found\";\n  }\n  if (resp.status == 952 ) {\n     set resp.status = 500;\n     set resp.response = \"Internal Server Error\";\n  }\n  if (resp.status == 953 ) {\n     set resp.status = 500;\n     set resp.response = \"Internal Server Error\";\n  }\n}\n\nsub hlx_error_errors {\n  # Cache Condition: OpenWhisk Error Prio: 10\n  if (obj.status == 951 ) {\n    set obj.http.Content-Type = \"text/html\";\n    synthetic {\"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003ctitle\u003eResource not Found\u003c/title\u003e\n    \u003c!-- Required meta tags --\u003e\n    \u003cmeta charset=\"utf-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\u003e\n    \u003cstyle\u003e\n@import url(https://fonts.googleapis.com/css?family=opensans:500);\nbody{\n                background: #111155;\n                color:#fff;\n                font-family: 'Open Sans', sans-serif;\n                max-height:700px;\n                overflow: hidden;\n            }\n            .c{\n                text-align: center;\n                display: block;\n                position: relative;\n                width:80%;\n                margin:100px auto;\n            }\n            ._404{\n                font-size: 220px;\n                position: relative;\n                display: inline-block;\n                z-index: 2;\n                height: 250px;\n                letter-spacing: 15px;\n            }\n            ._1{\n                text-align:center;\n                display:block;\n                position:relative;\n                letter-spacing: 12px;\n                font-size: 4em;\n                line-height: 80%;\n                margin-top:0.2em;\n                margin-bottom:0.2em;\n            }\n            ._2{\n                text-align:center;\n                display:block;\n                position: relative;\n                font-size: 20px;\n            }\n            .text{\n                font-size: 70px;\n                text-align: center;\n                position: relative;\n                display: inline-block;\n                margin: 19px 0px 0px 0px;\n                /* top: 256.301px; */\n                z-index: 3;\n                width: 100%;\n                line-height: 1.2em;\n                display: inline-block;\n            }\n          \n\n            .btn{\n                background-color: rgb( 255, 255, 255 );\n                position: relative;\n                display: inline-block;\n                width: 358px;\n                padding: 5px;\n                z-index: 5;\n                font-size: 25px;\n                margin:0 auto;\n                color:#111155;\n                text-decoration: none;\n                margin-right: 10px\n            }\n            .right{\n                float:right;\n                width:60%;\n            }\n            \n            hr{\n                padding: 0;\n                border: none;\n                border-top: 5px solid #fff;\n                color: #fff;\n                text-align: center;\n                margin: 0px auto;\n                width: 420px;\n                height:10px;\n                z-index: -10;\n            }\n            \n            hr:after {\n                content: \"\\2022\";\n                display: inline-block;\n                position: relative;\n                top: -0.75em;\n                font-size: 2em;\n                padding: 0 0.2em;\n                background: #111155;\n            }\n            \n            .cloud {\n                width: 350px; height: 120px;\n\n                background: #FFF;\n                background: linear-gradient(top, #FFF 100%);\n                background: -webkit-linear-gradient(top, #FFF 100%);\n                background: -moz-linear-gradient(top, #FFF 100%);\n                background: -ms-linear-gradient(top, #FFF 100%);\n                background: -o-linear-gradient(top, #FFF 100%);\n\n                border-radius: 100px;\n                -webkit-border-radius: 100px;\n                -moz-border-radius: 100px;\n\n                position: absolute;\n                margin: 120px auto 20px;\n                z-index:-1;\n                transition: ease 1s;\n            }\n\n            .cloud:after, .cloud:before {\n                content: '';\n                position: absolute;\n                background: #FFF;\n                z-index: -1\n            }\n\n            .cloud:after {\n                width: 100px; height: 100px;\n                top: -50px; left: 50px;\n\n                border-radius: 100px;\n                -webkit-border-radius: 100px;\n                -moz-border-radius: 100px;\n            }\n\n            .cloud:before {\n                width: 180px; height: 180px;\n                top: -90px; right: 50px;\n\n                border-radius: 200px;\n                -webkit-border-radius: 200px;\n                -moz-border-radius: 200px;\n            }\n            \n            .x1 {\n                top:-50px;\n                left:100px;\n                -webkit-transform: scale(0.3);\n                -moz-transform: scale(0.3);\n                transform: scale(0.3);\n                opacity: 0.9;\n                -webkit-animation: moveclouds 15s linear infinite;\n                -moz-animation: moveclouds 15s linear infinite;\n                -o-animation: moveclouds 15s linear infinite;\n            }\n            \n            .x1_5{\n                top:-80px;\n                left:250px;\n                -webkit-transform: scale(0.3);\n                -moz-transform: scale(0.3);\n                transform: scale(0.3);\n                -webkit-animation: moveclouds 17s linear infinite;\n                -moz-animation: moveclouds 17s linear infinite;\n                -o-animation: moveclouds 17s linear infinite; \n            }\n\n            .x2 {\n                left: 250px;\n                top:30px;\n                -webkit-transform: scale(0.6);\n                -moz-transform: scale(0.6);\n                transform: scale(0.6);\n                opacity: 0.6; \n                -webkit-animation: moveclouds 25s linear infinite;\n                -moz-animation: moveclouds 25s linear infinite;\n                -o-animation: moveclouds 25s linear infinite;\n            }\n\n            .x3 {\n                left: 250px; bottom: -70px;\n\n                -webkit-transform: scale(0.6);\n                -moz-transform: scale(0.6);\n                transform: scale(0.6);\n                opacity: 0.8; \n\n                -webkit-animation: moveclouds 25s linear infinite;\n                -moz-animation: moveclouds 25s linear infinite;\n                -o-animation: moveclouds 25s linear infinite;\n            }\n\n            .x4 {\n                left: 470px; botttom: 20px;\n\n                -webkit-transform: scale(0.75);\n                -moz-transform: scale(0.75);\n                transform: scale(0.75);\n                opacity: 0.75;\n\n                -webkit-animation: moveclouds 18s linear infinite;\n                -moz-animation: moveclouds 18s linear infinite;\n                -o-animation: moveclouds 18s linear infinite;\n            }\n\n            .x5 {\n                left: 200px; top: 300px;\n\n                -webkit-transform: scale(0.5);\n                -moz-transform: scale(0.5);\n                transform: scale(0.5);\n                opacity: 0.8; \n\n                -webkit-animation: moveclouds 20s linear infinite;\n                -moz-animation: moveclouds 20s linear infinite;\n                -o-animation: moveclouds 20s linear infinite;\n            }\n\n            @-webkit-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }\n            @-moz-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }\n            @-o-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }    \n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cdiv id=\"clouds\"\u003e\n      \u003cdiv class=\"cloud x1\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x1_5\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x2\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x3\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x4\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x5\"\u003e\u003c/div\u003e\n  \u003c/div\u003e\n  \u003cdiv class='c'\u003e\n      \u003cdiv class='_404'\u003e404\u003c/div\u003e\n      \u003chr\u003e\n      \u003cdiv class='_1'\u003eRESOURCE\u003c/div\u003e\n      \u003cdiv class='_1'\u003eNOT FOUND\u003c/div\u003e\n      \u003ccode class='btn'\u003eThe requested selector or extension could not be found.\u003c/code\u003e\n  \u003c/div\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\"};\n    return(deliver);\n  }\n  if (obj.status == 952 ) {\n    set obj.http.Content-Type = \"text/html\";\n    synthetic {\"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003ctitle\u003eInternal Server Error\u003c/title\u003e\n    \u003c!-- Required meta tags --\u003e\n    \u003cmeta charset=\"utf-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\u003e\n    \u003cstyle\u003e\n@import url(https://fonts.googleapis.com/css?family=opensans:500);\nbody{\n                background: #111155;\n                color:#fff;\n                font-family: 'Open Sans', sans-serif;\n                max-height:700px;\n                overflow: hidden;\n            }\n            .c{\n                text-align: center;\n                display: block;\n                position: relative;\n                width:80%;\n                margin:100px auto;\n            }\n            ._404{\n                font-size: 220px;\n                position: relative;\n                display: inline-block;\n                z-index: 2;\n                height: 250px;\n                letter-spacing: 15px;\n            }\n            ._1{\n                text-align:center;\n                display:block;\n                position:relative;\n                letter-spacing: 12px;\n                font-size: 4em;\n                line-height: 80%;\n                margin-top:0.2em;\n                margin-bottom:0.2em;\n            }\n            ._2{\n                text-align:center;\n                display:block;\n                position: relative;\n                font-size: 20px;\n            }\n            .text{\n                font-size: 70px;\n                text-align: center;\n                position: relative;\n                display: inline-block;\n                margin: 19px 0px 0px 0px;\n                /* top: 256.301px; */\n                z-index: 3;\n                width: 100%;\n                line-height: 1.2em;\n                display: inline-block;\n            }\n          \n\n            .btn{\n                background-color: rgb( 255, 255, 255 );\n                position: relative;\n                display: inline-block;\n                width: 358px;\n                padding: 5px;\n                z-index: 5;\n                font-size: 25px;\n                margin:0 auto;\n                color:#111155;\n                text-decoration: none;\n                margin-right: 10px\n            }\n            .right{\n                float:right;\n                width:60%;\n            }\n            \n            hr{\n                padding: 0;\n                border: none;\n                border-top: 5px solid #fff;\n                color: #fff;\n                text-align: center;\n                margin: 0px auto;\n                width: 420px;\n                height:10px;\n                z-index: -10;\n            }\n            \n            hr:after {\n                content: \"\\2022\";\n                display: inline-block;\n                position: relative;\n                top: -0.75em;\n                font-size: 2em;\n                padding: 0 0.2em;\n                background: #111155;\n            }\n            \n            .cloud {\n                width: 350px; height: 120px;\n\n                background: #FFF;\n                background: linear-gradient(top, #FFF 100%);\n                background: -webkit-linear-gradient(top, #FFF 100%);\n                background: -moz-linear-gradient(top, #FFF 100%);\n                background: -ms-linear-gradient(top, #FFF 100%);\n                background: -o-linear-gradient(top, #FFF 100%);\n\n                border-radius: 100px;\n                -webkit-border-radius: 100px;\n                -moz-border-radius: 100px;\n\n                position: absolute;\n                margin: 120px auto 20px;\n                z-index:-1;\n                transition: ease 1s;\n            }\n\n            .cloud:after, .cloud:before {\n                content: '';\n                position: absolute;\n                background: #FFF;\n                z-index: -1\n            }\n\n            .cloud:after {\n                width: 100px; height: 100px;\n                top: -50px; left: 50px;\n\n                border-radius: 100px;\n                -webkit-border-radius: 100px;\n                -moz-border-radius: 100px;\n            }\n\n            .cloud:before {\n                width: 180px; height: 180px;\n                top: -90px; right: 50px;\n\n                border-radius: 200px;\n                -webkit-border-radius: 200px;\n                -moz-border-radius: 200px;\n            }\n            \n            .x1 {\n                top:-50px;\n                left:100px;\n                -webkit-transform: scale(0.3);\n                -moz-transform: scale(0.3);\n                transform: scale(0.3);\n                opacity: 0.9;\n                -webkit-animation: moveclouds 15s linear infinite;\n                -moz-animation: moveclouds 15s linear infinite;\n                -o-animation: moveclouds 15s linear infinite;\n            }\n            \n            .x1_5{\n                top:-80px;\n                left:250px;\n                -webkit-transform: scale(0.3);\n                -moz-transform: scale(0.3);\n                transform: scale(0.3);\n                -webkit-animation: moveclouds 17s linear infinite;\n                -moz-animation: moveclouds 17s linear infinite;\n                -o-animation: moveclouds 17s linear infinite; \n            }\n\n            .x2 {\n                left: 250px;\n                top:30px;\n                -webkit-transform: scale(0.6);\n                -moz-transform: scale(0.6);\n                transform: scale(0.6);\n                opacity: 0.6; \n                -webkit-animation: moveclouds 25s linear infinite;\n                -moz-animation: moveclouds 25s linear infinite;\n                -o-animation: moveclouds 25s linear infinite;\n            }\n\n            .x3 {\n                left: 250px; bottom: -70px;\n\n                -webkit-transform: scale(0.6);\n                -moz-transform: scale(0.6);\n                transform: scale(0.6);\n                opacity: 0.8; \n\n                -webkit-animation: moveclouds 25s linear infinite;\n                -moz-animation: moveclouds 25s linear infinite;\n                -o-animation: moveclouds 25s linear infinite;\n            }\n\n            .x4 {\n                left: 470px; botttom: 20px;\n\n                -webkit-transform: scale(0.75);\n                -moz-transform: scale(0.75);\n                transform: scale(0.75);\n                opacity: 0.75;\n\n                -webkit-animation: moveclouds 18s linear infinite;\n                -moz-animation: moveclouds 18s linear infinite;\n                -o-animation: moveclouds 18s linear infinite;\n            }\n\n            .x5 {\n                left: 200px; top: 300px;\n\n                -webkit-transform: scale(0.5);\n                -moz-transform: scale(0.5);\n                transform: scale(0.5);\n                opacity: 0.8; \n\n                -webkit-animation: moveclouds 20s linear infinite;\n                -moz-animation: moveclouds 20s linear infinite;\n                -o-animation: moveclouds 20s linear infinite;\n            }\n\n            @-webkit-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }\n            @-moz-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }\n            @-o-keyframes moveclouds {\n                0% {margin-left: 1000px;}\n                100% {margin-left: -1000px;}\n            }    \n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cdiv id=\"clouds\"\u003e\n      \u003cdiv class=\"cloud x1\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x1_5\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x2\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x3\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x4\"\u003e\u003c/div\u003e\n      \u003cdiv class=\"cloud x5\"\u003e\u003c/div\u003e\n  \u003c/div\u003e\n  \u003cdiv class='c'\u003e\n      \u003cdiv class='_404'\u003e500\u003c/div\u003e\n      \u003chr\u003e\n      \u003cdiv class='_1'\u003eINTERNAL\u003c/div\u003e\n      \u003cdiv class='_1'\u003eSERVER ERROR\u003c/div\u003e\n      \u003ccode class='btn'\u003eThere is no action with the configured prefix.\u003c/code\u003e\n  \u003c/div\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\"};\n    return(deliver);\n  }\n  if (obj.status == 953 ) {\n    set obj.http.Content-Type = \"text/html\";\n    synthetic {\"\u003c!doctype html\u003e\n    \u003chtml lang=\"en\"\u003e\n      \u003chead\u003e\n        \u003ctitle\u003eInternal Server Error\u003c/title\u003e\n        \u003c!-- Required meta tags --\u003e\n        \u003cmeta charset=\"utf-8\"\u003e\n        \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\u003e\n        \u003cstyle\u003e\n    @import url(https://fonts.googleapis.com/css?family=opensans:500);\n    body{\n                    background: #111155;\n                    color:#fff;\n                    font-family: 'Open Sans', sans-serif;\n                    max-height:700px;\n                    overflow: hidden;\n                }\n                .c{\n                    text-align: center;\n                    display: block;\n                    position: relative;\n                    width:80%;\n                    margin:100px auto;\n                }\n                ._404{\n                    font-size: 220px;\n                    position: relative;\n                    display: inline-block;\n                    z-index: 2;\n                    height: 250px;\n                    letter-spacing: 15px;\n                }\n                ._1{\n                    text-align:center;\n                    display:block;\n                    position:relative;\n                    letter-spacing: 12px;\n                    font-size: 4em;\n                    line-height: 80%;\n                    margin-top:0.2em;\n                    margin-bottom:0.2em;\n                }\n                ._2{\n                    text-align:center;\n                    display:block;\n                    position: relative;\n                    font-size: 20px;\n                }\n                .text{\n                    font-size: 70px;\n                    text-align: center;\n                    position: relative;\n                    display: inline-block;\n                    margin: 19px 0px 0px 0px;\n                    /* top: 256.301px; */\n                    z-index: 3;\n                    width: 100%;\n                    line-height: 1.2em;\n                    display: inline-block;\n                }\n              \n\n                .btn{\n                    background-color: rgb( 255, 255, 255 );\n                    position: relative;\n                    display: inline-block;\n                    width: 358px;\n                    padding: 5px;\n                    z-index: 5;\n                    font-size: 25px;\n                    margin:0 auto;\n                    color:#111155;\n                    text-decoration: none;\n                    margin-right: 10px\n                }\n                .right{\n                    float:right;\n                    width:60%;\n                }\n                \n                hr{\n                    padding: 0;\n                    border: none;\n                    border-top: 5px solid #fff;\n                    color: #fff;\n                    text-align: center;\n                    margin: 0px auto;\n                    width: 420px;\n                    height:10px;\n                    z-index: -10;\n                }\n                \n                hr:after {\n                    content: \"\\2022\";\n                    display: inline-block;\n                    position: relative;\n                    top: -0.75em;\n                    font-size: 2em;\n                    padding: 0 0.2em;\n                    background: #111155;\n                }\n                \n                .cloud {\n                    width: 350px; height: 120px;\n\n                    background: #FFF;\n                    background: linear-gradient(top, #FFF 100%);\n                    background: -webkit-linear-gradient(top, #FFF 100%);\n                    background: -moz-linear-gradient(top, #FFF 100%);\n                    background: -ms-linear-gradient(top, #FFF 100%);\n                    background: -o-linear-gradient(top, #FFF 100%);\n\n                    border-radius: 100px;\n                    -webkit-border-radius: 100px;\n                    -moz-border-radius: 100px;\n\n                    position: absolute;\n                    margin: 120px auto 20px;\n                    z-index:-1;\n                    transition: ease 1s;\n                }\n\n                .cloud:after, .cloud:before {\n                    content: '';\n                    position: absolute;\n                    background: #FFF;\n                    z-index: -1\n                }\n\n                .cloud:after {\n                    width: 100px; height: 100px;\n                    top: -50px; left: 50px;\n\n                    border-radius: 100px;\n                    -webkit-border-radius: 100px;\n                    -moz-border-radius: 100px;\n                }\n\n                .cloud:before {\n                    width: 180px; height: 180px;\n                    top: -90px; right: 50px;\n\n                    border-radius: 200px;\n                    -webkit-border-radius: 200px;\n                    -moz-border-radius: 200px;\n                }\n                \n                .x1 {\n                    top:-50px;\n                    left:100px;\n                    -webkit-transform: scale(0.3);\n                    -moz-transform: scale(0.3);\n                    transform: scale(0.3);\n                    opacity: 0.9;\n                    -webkit-animation: moveclouds 15s linear infinite;\n                    -moz-animation: moveclouds 15s linear infinite;\n                    -o-animation: moveclouds 15s linear infinite;\n                }\n                \n                .x1_5{\n                    top:-80px;\n                    left:250px;\n                    -webkit-transform: scale(0.3);\n                    -moz-transform: scale(0.3);\n                    transform: scale(0.3);\n                    -webkit-animation: moveclouds 17s linear infinite;\n                    -moz-animation: moveclouds 17s linear infinite;\n                    -o-animation: moveclouds 17s linear infinite; \n                }\n\n                .x2 {\n                    left: 250px;\n                    top:30px;\n                    -webkit-transform: scale(0.6);\n                    -moz-transform: scale(0.6);\n                    transform: scale(0.6);\n                    opacity: 0.6; \n                    -webkit-animation: moveclouds 25s linear infinite;\n                    -moz-animation: moveclouds 25s linear infinite;\n                    -o-animation: moveclouds 25s linear infinite;\n                }\n\n                .x3 {\n                    left: 250px; bottom: -70px;\n\n                    -webkit-transform: scale(0.6);\n                    -moz-transform: scale(0.6);\n                    transform: scale(0.6);\n                    opacity: 0.8; \n\n                    -webkit-animation: moveclouds 25s linear infinite;\n                    -moz-animation: moveclouds 25s linear infinite;\n                    -o-animation: moveclouds 25s linear infinite;\n                }\n\n                .x4 {\n                    left: 470px; botttom: 20px;\n\n                    -webkit-transform: scale(0.75);\n                    -moz-transform: scale(0.75);\n                    transform: scale(0.75);\n                    opacity: 0.75;\n\n                    -webkit-animation: moveclouds 18s linear infinite;\n                    -moz-animation: moveclouds 18s linear infinite;\n                    -o-animation: moveclouds 18s linear infinite;\n                }\n\n                .x5 {\n                    left: 200px; top: 300px;\n\n                    -webkit-transform: scale(0.5);\n                    -moz-transform: scale(0.5);\n                    transform: scale(0.5);\n                    opacity: 0.8; \n\n                    -webkit-animation: moveclouds 20s linear infinite;\n                    -moz-animation: moveclouds 20s linear infinite;\n                    -o-animation: moveclouds 20s linear infinite;\n                }\n\n                @-webkit-keyframes moveclouds {\n                    0% {margin-left: 1000px;}\n                    100% {margin-left: -1000px;}\n                }\n                @-moz-keyframes moveclouds {\n                    0% {margin-left: 1000px;}\n                    100% {margin-left: -1000px;}\n                }\n                @-o-keyframes moveclouds {\n                    0% {margin-left: 1000px;}\n                    100% {margin-left: -1000px;}\n                }    \n        \u003c/style\u003e\n      \u003c/head\u003e\n      \u003cbody\u003e\n        \u003cdiv id=\"clouds\"\u003e\n          \u003cdiv class=\"cloud x1\"\u003e\u003c/div\u003e\n          \u003cdiv class=\"cloud x1_5\"\u003e\u003c/div\u003e\n          \u003cdiv class=\"cloud x2\"\u003e\u003c/div\u003e\n          \u003cdiv class=\"cloud x3\"\u003e\u003c/div\u003e\n          \u003cdiv class=\"cloud x4\"\u003e\u003c/div\u003e\n          \u003cdiv class=\"cloud x5\"\u003e\u003c/div\u003e\n      \u003c/div\u003e\n      \u003cdiv class='c'\u003e\n          \u003cdiv class='_404'\u003e500\u003c/div\u003e\n          \u003chr\u003e\n          \u003cdiv class='_1'\u003eINTERNAL\u003c/div\u003e\n          \u003cdiv class='_1'\u003eSERVER ERROR\u003c/div\u003e\n          \u003ccode class='btn'\u003eThe configured backend authentication has been rejected.\u003c/code\u003e\n      \u003c/div\u003e\n      \u003c/body\u003e\n    \u003c/html\u003e\"};\n    return(deliver);\n  }\n}\n\nsub vcl_fetch {\n#FASTLY fetch\n\n  call hlx_fetch_errors;\n  call hlx_headers_fetch;\n\n  unset beresp.http.Set-Cookie;\n  unset beresp.http.Vary;\n  unset beresp.http.Expires;\n\n  set beresp.http.Vary = \"X-Debug, X-Strain\";\n\n  if (beresp.http.Expires || beresp.http.Surrogate-Control ~ \"max-age\" || beresp.http.Cache-Control ~ \"(s-maxage|max-age)\") {\n    # override ttl\n    } else {\n    # apply a default ttl\n    if (beresp.status == 200) {\n      set beresp.ttl = 604800s;\n      set beresp.http.Cache-Control = \"max-age=604800, public\";\n\n      # apply a longer ttl for images\n      if (req.url.ext ~ \"(?i)(?:gif|png|jpe?g|webp)\") {\n        set beresp.ttl = 2592000s;\n        set beresp.http.Cache-Control = \"max-age=2592000, public\";\n      }\n\n    } else {\n      set beresp.ttl = 60s;\n    }\n  }\n\n  if ( req.http.x-esi ) {\n    esi;\n  }\n\n  if (beresp.http.X-Static == \"Raw/Static\") {\n    if (beresp.status == 307) {\n      // static.js returns a 307 if the response is greater than OpenWhisk's\n      // delivery limit. We restart the request and deliver directly from\n      // GitHub instead, carring over the Content-Type header that static.js guessed\n      set req.http.X-Static = \"Redirect\";\n      set req.url = beresp.http.Location;\n      set req.http.X-Content-Type = beresp.http.X-Content-Type;\n      restart;\n    } else {\n      return(deliver);\n    }\n  } elseif (req.http.X-Static == \"Redirect\") {\n    // and this is where we fix the headers of the GitHub static response\n    // so that they become digestible by a browser.\n    // - recover Content-Type from X-Content-Type\n    // - filter out GitHub-headers\n\n    set beresp.http.Content-Type = req.http.X-Content-Type;\n    unset beresp.http.X-Content-Type-Options;\n    unset beresp.http.X-Frame-Options;\n    unset beresp.http.X-XSS-Protection;\n    unset beresp.http.Content-Security-Policy;\n\n  } elseif ((beresp.status == 404 || beresp.status == 204) \u0026\u0026 !req.http.X-Disable-Static) {\n    # That was a miss. Let's try to restart.\n    set beresp.http.X-Status = beresp.status + \"-Restart \" + req.restarts;\n    set beresp.status = 404;\n\n    if (req.http.X-Static == \"Static\") {\n      set req.http.X-Static = \"Dynamic\";\n      set beresp.http.X-Static = \"Dynamic\";\n    } else {\n      set req.http.X-Static = \"Static\";\n      set beresp.http.X-Static = \"Static\";\n    }\n    set req.url = req.http.X-URL;\n    restart;\n  }\n\n\n  return(deliver);\n}\n\nsub vcl_hit {\n#FASTLY hit\n\n  if (!obj.cacheable) {\n    return(pass);\n  }\n  return(deliver);\n}\n\nsub vcl_miss {\n#FASTLY miss\n  unset bereq.http.X-Orig-Url;\n  if (req.backend.is_shield) {\n    set bereq.url = req.http.X-Orig-Url;\n  }\n\n  # set backend host\n  if (req.backend == F_AdobeRuntime) {\n    set bereq.http.host = \"adobeioruntime.net\";\n  } elsif (req.backend == F_GitHub) {\n    set bereq.http.host = \"raw.githubusercontent.com\";\n  }\n\n  # set backend authentication\n  if (req.backend == F_AdobeRuntime) {\n    set bereq.http.Authorization = table.lookup(secrets, \"OPENWHISK_AUTH\");\n  }\n\n  # making sure to get an uncompressed object for ESI\n  if ( req.url.ext == \"html\" ) {\n   unset bereq.http.Accept-Encoding;\n  }\n\n  return(fetch);\n}\n\nsub vcl_deliver {\n#FASTLY deliver\n  call hlx_headers_deliver;\n\n  # only set the strain cookie for sticky strains\n  # and only do it for the Adobe I/O Runtime backend\n  if (req.http.X-Strain\u0026\u0026req.http.X-Sticky==\"true\"\u0026\u0026req.backend == F_AdobeRuntime) {\n    set resp.http.Set-Cookie = \"X-Strain=\" + req.http.X-Strain + \"; Secure; HttpOnly; SameSite=Strict;\";\n  }\n\n  if (!req.http.X-Debug) {\n    # Unless we are debugging, shut up chatty headers\n    unset resp.http.Access-Control-Allow-Headers;\n    unset resp.http.Access-Control-Allow-Methods;\n    unset resp.http.Access-Control-Allow-Origin;\n    unset resp.http.Perf-Br-Resp-Out;\n    unset resp.http.Server;\n    unset resp.http.Via;\n    unset resp.http.X-Backend-Name;\n    unset resp.http.X-Backend-URL;\n    unset resp.http.X-Branch;\n    unset resp.http.X-Cache-Hits;\n    unset resp.http.X-Cache;\n    unset resp.http.X-CDN-Request-ID;\n    unset resp.http.X-Content-Type-Options;\n    unset resp.http.X-Content-Type;\n    unset resp.http.X-Fastly-Request-ID;\n    unset resp.http.X-Frame-Options;\n    unset resp.http.X-Geo-Block-List;\n    unset resp.http.X-GitHub-Request-Id;\n    unset resp.http.X-GW-Cache;\n    unset resp.http.x-openwhisk-activation-id;\n    unset resp.http.X-Request-Id;\n    unset resp.http.X-Served-By;\n    unset resp.http.X-Static;\n    unset resp.http.X-Sticky;\n    unset resp.http.X-Strain;\n    unset resp.http.X-Timer;\n    unset resp.http.X-URL;\n    unset resp.http.x-xss-protection;\n  }\n  return(deliver);\n}\n\nsub vcl_error {\n#FASTLY error\n  call hlx_error_errors;\n}\n\nsub vcl_pass {\n#FASTLY pass\n  # set backend host\n  if (req.backend == F_AdobeRuntime) {\n    set bereq.http.host = \"adobeioruntime.net\";\n  } elsif (req.backend == F_GitHub) {\n    set bereq.http.host = \"raw.githubusercontent.com\";\n  }\n\n  # making sure to get an uncompressed object for ESI\n  if ( req.url.ext == \"html\" ) {\n   unset bereq.http.Accept-Encoding;\n  }\n\n}\n\nsub vcl_log {\n#FASTLY log\n}\n","deleted_at":null,"service_id":"1s45RKXKEjuo2s0GWrF391","main":true,"created_at":"2018-12-06T15:55:08Z","updated_at":"2018-12-06T15:55:08Z"}